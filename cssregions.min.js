/*! Copyright 2012 Adobe Systems Inc.;
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at

* http://www.apache.org/licenses/LICENSE-2.0

* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/"use strict";function myEventStream(e,t,n){var o=this;t||(t=function(){}),n||(n=e);var r=!1,s=!1,i=!1,a=null,c=function(){i=!0;try{a&&a(o)}catch(e){setImmediate(function(){throw e})}i&&l()};this.schedule=function(t){if(s)throw Error("Cannot schedule on a disconnected event stream");if(r&&!i)throw Error("Cannot schedule on an already-scheduled event stream");a=t,i=!1,r?n(c):(e(c),r=!0)};var l=this.dispose=function(){r&&(t(),o=null,c=null,a=null,r=!1,s=!0,i=!1)}}function myAnimationFrameEventStream(){var e=0;myEventStream.call(this,function(t){e=requestAnimationFrame(t)},function(){cancelAnimationFrame(e)})}function myTimeoutEventStream(e){var t=0,n="number"==typeof e?+e:"timeout"in e?+e.timeout:333;myEventStream.call(this,function(e){t=setTimeout(e,n)},function(){clearTimeout(t)})}function myMouseEventStream(){var e="PointerEvent"in window?"pointermove":"MSPointerEvent"in window?"MSPointerMove":"mousemove",t=!1,n=null,o=function(){t||(window.removeEventListener(e,o,!0),t=requestAnimationFrame(n))};myEventStream.call(this,function(t){n=t,window.addEventListener(e,o,!0)},function(){window.removeEventListener(e,o,!0),cancelAnimationFrame(t),o=null,n=null,t=!1},function(r){n=r,t=!1,window.addEventListener(e,o,!0)})}function myMouseButtonEventStream(){var e="PointerEvent"in window?"pointerup":"MSPointerEvent"in window?"MSPointerUp":"mouseup",t="PointerEvent"in window?"pointerdown":"MSPointerEvent"in window?"MSPointerDown":"mousedown",n=!1,o=null,r=function(){n||(window.removeEventListener(e,r,!0),window.removeEventListener(t,r,!0),n=requestAnimationFrame(o))};myEventStream.call(this,function(n){o=n,window.addEventListener(e,r,!0),window.addEventListener(t,r,!0)},function(){window.removeEventListener(e,r,!0),window.removeEventListener(t,r,!0),cancelAnimationFrame(n),r=null,o=null,n=!1},function(s){o=s,n=!1,window.addEventListener(e,r,!0),window.addEventListener(t,r,!0)})}function myFocusEventStream(){var e=null,t=null,n=!1,o=0,r=function(){t==document.activeElement&&n==document.hasFocus()?setTimeout(r,333):(t=document.activeElement,n=document.hasFocus(),e())};myEventStream.call(this,function(t){e=t,o=setTimeout(r,500)},function(){clearTimeout(o),r=null,e=null,o=0},function(t){e=t,o=setTimeout(r,100)})}function myCompositeEventStream(e,t){var n=this,o=null,r=!1,s=!1,i=function(i){i==e&&(r=!0),i==t&&(s=!0),r&&s||o(n)};myEventStream.call(this,function(n){o=n,e.schedule(i),t.schedule(i)},function(){e.dispose(),t.dispose()},function(n){o=n,r&&e.schedule(i),s&&t.schedule(i),r=s=!1})}function getCommonAncestor(e){if(!e||!e.length)return null;if(2>e.length)return e[0];var t=e[0];e:for(;t&&9!=t.nodeType;){for(var n=e.length;--n;)if(!t.contains(e[n])){t=t.parentNode;continue e}return t}return null}if(!document.caretRangeFromPoint)if(document.caretPositionFromPoint)document.caretRangeFromPoint=function(e,t){var n=document.createRange(),o=document.caretPositionFromPoint(e,t);return o.offsetNode&&(n.setStart(o.offsetNode,o.offset),n.setEnd(o.offsetNode,o.offset)),n};else if((document.body||document.createElement("body")).createTextRange){var TextRangeUtils={convertToDOMRange:function(e,t){var n=function(e,n,o){var r=t.createElement("a"),s=n.duplicate();s.collapse(o);var i=s.parentElement();do i.insertBefore(r,r.previousSibling),s.moveToElementText(r);while(s.compareEndPoints(o?"StartToStart":"StartToEnd",n)>0&&r.previousSibling);-1==s.compareEndPoints(o?"StartToStart":"StartToEnd",n)&&r.nextSibling?(s.setEndPoint(o?"EndToStart":"EndToEnd",n),e[o?"setStart":"setEnd"](r.nextSibling,s.text.length)):e[o?"setStartBefore":"setEndBefore"](r),r.parentNode.removeChild(r)};t||(t=window.document);var o=t.createRange();return n(o,e,!0),n(o,e,!1),o},convertFromDOMRange:function(e){var t=function(e,t,n){var o=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],s=0,i=DOMUtils.isDataNode(o)?o:o.childNodes[r],a=DOMUtils.isDataNode(o)?o.parentNode:o;(3==o.nodeType||4==o.nodeType)&&(s=r);var c=t._document.createElement("a");a.insertBefore(c,i);var l=t._document.body.createTextRange();l.moveToElementText(c),c.parentNode.removeChild(c),e.setEndPoint(n?"StartToStart":"EndToStart",l),e[n?"moveStart":"moveEnd"]("character",s)},n=e._document.body.createTextRange();return t(n,e,!0),t(n,e,!1),n}};document.caretRangeFromPoint=function(e,t){for(var n=40,o=document.body.createTextRange(),r=n;r;r-=4){var s=e;try{return o.moveToPoint(s,r+t-n),TextRangeUtils.convertToDOMRange(o)}catch(i){}}try{var a=document.elementFromPoint(e-1,t-1),o=document.createRange();return o.setStartAfter(a),o}catch(i){return null}}}Range.prototype.myMoveOneCharLeft=function(){var e=this;if(e.endOffset>0){var t=e.endContainer.childNodes[e.endOffset-1];t&&t.lastChild?e.setEndAfter(t.lastChild):t&&t.nodeType==t.TEXT_NODE?e.setEnd(t,t.nodeValue.length):e.setEnd(e.endContainer,e.endOffset-1)}else e.setEndBefore(e.endContainer)},Range.prototype.myMoveOneCharRight=function(){var e=this,t=e.startContainer.nodeType==e.startContainer.TEXT_NODE?e.startContainer.nodeValue.length:e.startContainer.childNodes.length;if(t>e.startOffset){var n=e.endContainer.childNodes[e.endOffset];n&&n.firstChild?e.setStartBefore(n.firstChild):n&&n.nodeType==n.TEXT_NODE&&""!=n.nodeValue?e.setStart(n,0):e.setStart(e.startContainer,e.startOffset+1)}else e.setStartAfter(e.endContainer);e.setEnd(e.startContainer,e.startOffset)},Range.prototype.myMoveTowardRight=function(){var e=this,t=e.startContainer.nodeType==e.startContainer.TEXT_NODE,n=t?e.startContainer.nodeValue.length:e.startContainer.childNodes.length;if(n>e.startOffset){var o=e.endContainer.childNodes[e.endOffset];if(o&&o.firstChild)e.setStartBefore(o.firstChild);else if(o&&o.nodeType==o.TEXT_NODE&&""!=o.nodeValue)e.setStart(o,0);else if(t){for(var r=e.startContainer.nodeValue,s=e.startOffset,i=r[s++];n>s&&/^\w$/.test(i);)i=r[s++];e.setStart(e.startContainer,s)}else e.setStart(e.startContainer,e.startOffset+1)}else e.setStartAfter(e.endContainer);e.setEnd(e.startContainer,e.startOffset)},Range.prototype.myMoveEndOneCharLeft=function(){var e=this;if(e.endOffset>0){var t=e.endContainer.childNodes[e.endOffset-1];t&&t.lastChild?e.setEndAfter(t.lastChild):t&&t.nodeType==t.TEXT_NODE?e.setEnd(t,t.nodeValue.length):e.setEnd(e.endContainer,e.endOffset-1)}else e.setEndBefore(e.endContainer)},Range.prototype.myMoveEndOneCharRight=function(){var e=this,t=e.endContainer.nodeType==e.endContainer.TEXT_NODE?e.endContainer.nodeValue.length:e.endContainer.childNodes.length;if(t>e.endOffset){var n=e.endContainer.childNodes[e.endOffset];n&&n.firstChild?e.setEndBefore(n.firstChild):n&&n.nodeType==n.TEXT_NODE?e.setEnd(n,0):e.setEnd(e.endContainer,e.endOffset+1)}else e.setEndAfter(e.endContainer)},Range.prototype.myGetSelectionRect=function(){var e=this.getBoundingClientRect();if(e||(e={top:0,right:0,bottom:0,left:0,width:0,height:0}),this.collapsed&&0===e.top&&0===e.bottom){var t=this.cloneRange(),n=!1;t.collapse(!1),0==t.startOffset?(t.myMoveTowardRight(),n=!0,t.setStart(t.endContainer,0)):(t.setStart(this.startContainer,this.startOffset-1),n=!1);var e=t.myGetSelectionRect();return n?{left:e.left,right:e.left,width:0,top:e.top,bottom:e.bottom,height:e.height}:{left:e.right,right:e.right,width:0,top:e.top,bottom:e.bottom,height:e.height}}return e},window.Element||(window.Element=window.HTMLElement),window.Node||(window.Node={}),Node.getBoundingClientRect=function(e){if(e.getBoundingClientRect)var t=e.getBoundingClientRect();else{var n=document.createRange();n.selectNode(e);var t=n.getBoundingClientRect()}return t||(t={top:0,right:0,bottom:0,left:0,width:0,height:0}),t},Node.getClientRects=function(e){if(e.getBoundingClientRect)return e.getClientRects();var t=document.createRange();return t.selectNode(e),t.getClientRects()},Node.contains=function(e,t){return 1!=t.nodeType?t.parentNode?t.parentNode==e||e.contains(t.parentNode):!1:e.contains(t)},Range.prototype.myGetExtensionRect=function(){var e=this.myGetSelectionRect(),t=this.endContainer.childNodes[this.endOffset-1];if(t){var n=Node.getBoundingClientRect(t),o=Math.max(e.bottom,n.bottom);return o==e.bottom?e:{left:e.left,right:e.right,width:e.width,top:e.top,bottom:o,height:o-e.top}}if(0==this.bottom&&3===this.endContainer.nodeType){var r=/^(\s|\n)*$/.test(this.endContainer.nodeValue.substr(0,this.endOffset));if(r){var n=Node.getClientRects(this.endContainer)[0];return n}var s=this.cloneRange();s.setStart(this.endContainer,0);var n=s.getBoundingClientRect(),o=Math.max(e.bottom,n.bottom);return{left:e.left,right:e.right,width:e.width,top:e.top,bottom:o,height:o-e.top}}return e},window.console||(window.console={backlog:"",log:function(e){this.backlog+=e+"\n",window.debug&&alert(e)},dir:function(e){try{var t=function(e){return e.innerHTML?{tagName:e.tagName,className:e.className,id:e.id,innerHTML:e.innerHTML.substr(0,100)}:{nodeName:e.nodeName,nodeValue:e.nodeValue}},n=function(e){var n=[],o=JSON.stringify(e,function(e,o){if("object"==typeof o){if(!n.indexOf(o))return"__cycle__";if(o instanceof window.Node)return t(o);n.push(o)}return o});return o};this.log(n(e))}catch(o){this.log(e)}},warn:function(e){this.log(e)}},window.onerror=function(){console.log([].slice.call(arguments,0).join("\n"))}),window.cssConsole={enabled:!!window.debug,warnEnabled:!0,log:function(e){this.enabled&&console.log(e)},dir:function(e){this.enabled&&console.dir(e)},warn:function(e){this.warnEnabled&&console.warn(e)}};var basicObjectModel={cloneMouseEvent:function(e){var t=document.createEvent("MouseEvent");return t.initMouseEvent(e.type,e.canBubble||e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),t},cloneKeyboardEvent:function(e){return basicObjectModel.cloneCustomEvent(e)},cloneCustomEvent:function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent(e.type,e.canBubble||e.bubbles,e.cancelable,"detail"in e?e.detail:e);for(var n in e)try{if(e[n]!=t[n]&&e[n]!=e.target)try{t[n]=e[n]}catch(o){Object.defineProperty(t,n,{get:function(){return e[n]}})}}catch(o){}return t},cloneEvent:function(e){return e instanceof MouseEvent?basicObjectModel.cloneMouseEvent(e):e instanceof KeyboardEvent?basicObjectModel.cloneKeyboardEvent(e):basicObjectModel.cloneCustomEvent(e)},EventTarget:{implementsIn:function(e,t){t||"function"!=typeof e||(e=e.prototype),e.dispatchEvent=basicObjectModel.EventTarget.prototype.dispatchEvent,e.addEventListener=basicObjectModel.EventTarget.prototype.addEventListener,e.removeEventListener=basicObjectModel.EventTarget.prototype.removeEventListener},prototype:{}}};basicObjectModel.EventTarget.prototype.addEventListener=function(e,t){this.eventListeners||(this.eventListeners=[]);var n=this.eventListeners[e]||(this.eventListeners[e]=[]);-1==n.indexOf(t)&&n.push(t)},basicObjectModel.EventTarget.prototype.removeEventListener=function(e,t){this.eventListeners||(this.eventListeners=[]);var n,o=this.eventListeners[e]||(this.eventListeners[e]=[]);-1!==(n=o.indexOf(t))&&o.splice(n,1)},basicObjectModel.EventTarget.prototype.dispatchEvent=function(e){function t(e,t,n){Object.defineProperty(t,n,{get:function(){var t=e[n];return"function"==typeof t?t.bind(e):t},set:function(t){e[n]=t}})}function n(e,o){try{Object.defineProperty(e,"target",{get:function(){return o}})}catch(r){}finally{if(e.target!==o){var s=Object.create(Object.getPrototypeOf(e));s=n(s,o);for(key in e)"target"!=key&&t(e,s,key);return s}return e}}if(this.eventListeners||(this.eventListeners=[]),"string"==typeof e){if(!this.eventListeners[e]||0==this.eventListeners[e].length)return}else if(!this.eventListeners[e.type]||0==this.eventListeners[e.type].length)return;var o=e;if("object"==typeof o)try{o=n(o,this)}catch(r){}else{if("string"!=typeof o)throw Error("dispatchEvent expect an Event object or a string containing the event type");o=document.createEvent("CustomEvent"),o.initCustomEvent(e,!0,!1,this);try{o=n(o,this)}catch(r){}}for(var s=this.eventListeners[o.type]||(this.eventListeners[o.type]=[]),i=s.length;i--;)try{s[i](o)}catch(r){setImmediate(function(){throw r})}return o.isDefaultPrevented},function(){function e(e){this.isRunning=!1,this.isScheduledNow=!1,this.taskQueue=[],this.delayedTasks=0,this.childSchedulers=[],this.parentScheduler=e,e&&e.childSchedulers.push(this);var t=this;t.tryRun=function(){t.parentScheduler?t.parentScheduler.tryRun():t.run()},t.run=function(){t.isRunning=!0;try{if(0!==t.taskQueue.length)for(var e;e=t.taskQueue.shift();)try{e.call()}catch(n){setImmediate(function(){throw n})}if(0===t.delayedTasks)for(var o=0;t.childSchedulers.length>o;o++)try{t.childSchedulers[o].run()}catch(n){setImmediate(function(){throw n})}0!==t.taskQueue.length&&t.run()}catch(n){setImmediate(function(){throw n})}t.isRunning=!1}}window.setImmediate=window.setImmediate||function(e){setTimeout(e,0)},window.clearImmediate=window.clearImmediate||window.clearTimeout,window.requestAnimationFrame=window.requestAnimationFrame||function(e){return setTimeout(function(){e(+new Date)},16)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.clearTimeout,window.performance&&window.performance.now||Date.now,e.prototype.pushTask=function(e){this.taskQueue.push(e),this.scheduleNow()},e.prototype.pushDelayedTask=function(e,t){var n=this,o=t(function(){n.pushTask(e),n.delayedTasks--,n.scheduleNow()});return this.delayedTasks++,o},e.prototype.setImmediate=e.prototype.pushTask,e.prototype.setTimeout=function(e,t){this.pushDelayedTask(e,function(e){setTimeout(e,t)})},e.prototype.requestAnimationFrame=function(e){this.pushDelayedTask(e,requestAnimationFrame)},e.prototype.scheduleNow=function(){this.isRunning||this.isScheduledNow||setImmediate(this.tryRun)},window.JSTaskScheduler=e}();var cssSyntax={tokenize:function(){},parse:function(){},parseCSSValue:function(e,t){if(t){var n=new cssSyntax.TokenList;return n.asCSSString=e,n}var n=e?cssSyntax.parse("*{a:"+e+"}").value[0].value[0].value:new cssSyntax.TokenList;return n.asCSSString=e,n}};(function(){function e(e){return g(e,48,57)}function t(t){return e(t)||g(t,65,70)||g(t,97,102)}function n(e){return g(e,65,90)}function o(e){return g(e,97,122)}function r(e){return n(e)||o(e)}function s(e){return e>=160}function i(e){return r(e)||s(e)||95==e}function a(t){return i(t)||e(t)||45==t}function c(e){return g(e,0,8)||g(e,14,31)||g(e,127,159)}function l(e){return 10==e||12==e}function d(e){return l(e)||9==e||32==e}function u(e){return l(e)||isNaN(e)}function f(n,o){void 0==o&&(o={transformFunctionWhitespace:!1,scientificNotation:!1});for(var r,s,f=-1,p=new h,g="data",y=0,I=0,_=0,J=function(){y+=1,_=I,I=0},G={line:y,column:I},z=function(e){return void 0===e&&(e=1),n.charCodeAt(f+e)},K=function(e){return void 0===e&&(e=1),f+=e,r=n.charCodeAt(f),l(r)?J():I+=e,!0},X=function(){return f-=1,l(r)?(y-=1,I=_):I-=1,G.line=y,G.column=I,!0},Q=function(){return f>=n.length},Y=function(){},$=function(e){return e?e.finish():e=s.finish(),o.loc===!0&&(e.loc={},e.loc.start={line:G.line,column:G.column},G={line:y,column:I},e.loc.end=G),p.push(e),s=void 0,!0},Z=function(e){return s=e,!0},et=function(){return console.log("Parse error at index "+f+", processing codepoint 0x"+r.toString(16)+" in state "+g+"."),!0},tt=function(e){return console.log("MAJOR SPEC ERROR: "+e),!0},nt=function(e){return g=e,!0},ot=function(){if(K(),t(r)){for(var e=[],n=0;6>n&&t(r);n++)e.push(r),K();var o=parseInt(e.map(String.fromCharCode).join(""),16);return o>m&&(o=65533),d(r)||X(),o}return r};;){if(f>2*n.length)return"I'm infinite-looping!";switch(K(),g){case"data":if(d(r))for($(new w);d(z());)K();else if(34==r)nt("double-quote-string");else if(35==r)nt("hash");else if(39==r)nt("single-quote-string");else if(40==r)$(new A);else if(41==r)$(new x);else if(43==r)e(z())||46==z()&&e(z(2))?nt("number")&&X():$(new F(r));else if(45==r)45==z(1)&&62==z(2)?K(2)&&$(new b):e(z())||46==z(1)&&e(z(2))?nt("number")&&X():nt("ident")&&X();else if(46==r)e(z())?nt("number")&&X():$(new F(r));else if(47==r)42==z()?K()&&nt("comment"):$(new F(r));else if(58==r)$(new E);else if(59==r)$(new R);else if(60==r)33==z(1)&&45==z(2)&&45==z(3)?K(3)&&$(new C):$(new F(r));else if(64==r)nt("at-keyword");else if(91==r)$(new N);else if(92==r)u(z())?et()&&$(new F(r)):nt("ident")&&X();else if(93==r)$(new O);else if(123==r)$(new T);else if(125==r)$(new k);else if(e(r))nt("number")&&X();else if(85==r||117==r)43==z(1)&&t(z(2))?K()&&nt("unicode-range"):nt("ident")&&X();else if(i(r))nt("ident")&&X();else{if(Q())return $(new L),p;$(new F(r))}break;case"double-quote-string":void 0==s&&Z(new D),34==r?$()&&nt("data"):Q()?et()&&$()&&nt("data")&&X():l(r)?et()&&$(new v)&&nt("data")&&X():92==r?u(z())?et()&&$(new v)&&nt("data"):l(z())?K():s.append(ot()):s.append(r);break;case"single-quote-string":void 0==s&&Z(new D),39==r?$()&&nt("data"):Q()?et()&&$()&&nt("data"):l(r)?et()&&$(new v)&&nt("data")&&X():92==r?u(z())?et()&&$(new v)&&nt("data"):l(z())?K():s.append(ot()):s.append(r);break;case"hash":a(r)?Z(new B(r))&&nt("hash-rest"):92==r?u(z())?et()&&$(new F(35))&&nt("data")&&X():Z(new B(ot()))&&nt("hash-rest"):$(new F(35))&&nt("data")&&X();break;case"hash-rest":a(r)?s.append(r):92==r?u(z())?et()&&$()&&nt("data")&&X():s.append(ot()):$()&&nt("data")&&X();break;case"comment":42==r?47==z()?K()&&nt("data"):Y():Q()?et()&&nt("data")&&X():Y();break;case"at-keyword":45==r?i(z())||45==z()?Z(new H(45))&&nt("at-keyword-rest"):92!=z(1)||u(z(2))?et()&&$(new F(64))&&nt("data")&&X():Z(new AtKeywordtoken(45))&&nt("at-keyword-rest"):i(r)?Z(new H(r))&&nt("at-keyword-rest"):92==r?u(z())?et()&&$(new F(35))&&nt("data")&&X():Z(new H(ot()))&&nt("at-keyword-rest"):$(new F(64))&&nt("data")&&X();break;case"at-keyword-rest":a(r)?s.append(r):92==r?u(z())?et()&&$()&&nt("data")&&X():s.append(ot()):$()&&nt("data")&&X();break;case"ident":45==r?i(z())||45==z()?Z(new M(r))&&nt("ident-rest"):92!=z(1)||u(z(2))?$(new F(45))&&nt("data"):Z(new M(r))&&nt("ident-rest"):i(r)?Z(new M(r))&&nt("ident-rest"):92==r?u(z())?et()&&nt("data")&&X():Z(new M(ot()))&&nt("ident-rest"):tt("Hit the generic 'else' clause in ident state.")&&nt("data")&&X();break;case"ident-rest":a(r)?s.append(r):92==r?u(z())?et()&&$()&&nt("data")&&X():s.append(ot()):40==r?s.ASCIImatch("url")?nt("url"):$(new P(s))&&nt("data"):d(r)&&o.transformFunctionWhitespace?nt("transform-function-whitespace")&&X():$()&&nt("data")&&X();break;case"transform-function-whitespace":d(z())?Y():40==r?$(new P(s))&&nt("data"):$()&&nt("data")&&X();break;case"number":Z(new U),45==r?e(z())?K()&&s.append([45,r])&&nt("number-rest"):46==z(1)&&e(z(2))?K(2)&&s.append([45,46,r])&&nt("number-fraction"):nt("data")&&X():43==r?e(z())?K()&&s.append([43,r])&&nt("number-rest"):46==z(1)&&e(z(2))?K(2)&&s.append([43,46,r])&&nt("number-fraction"):nt("data")&&X():e(r)?s.append(r)&&nt("number-rest"):46==r?e(z())?K()&&s.append([46,r])&&nt("number-fraction"):nt("data")&&X():nt("data")&&X();break;case"number-rest":e(r)?s.append(r):46==r?e(z())?K()&&s.append([46,r])&&nt("number-fraction"):$()&&nt("data")&&X():37==r?$(new V(s))&&nt("data"):69==r||101==r?e(z())?K()&&s.append([37,r])&&nt("sci-notation"):43!=z(1)&&45!=z(1)||!e(z(2))?Z(new j(s,r))&&nt("dimension"):s.append([37,z(1),z(2)])&&K(2)&&nt("sci-notation"):45==r?i(z())?K()&&Z(new j(s,[45,r]))&&nt("dimension"):92==z(1)&&u(z(2))?et()&&$()&&nt("data")&&X():92==z(1)?K()&&Z(new j(s,[45,ot()]))&&nt("dimension"):$()&&nt("data")&&X():i(r)?Z(new j(s,r))&&nt("dimension"):92==r?u(z)?et()&&$()&&nt("data")&&X():Z(new j(s,ot))&&nt("dimension"):$()&&nt("data")&&X();break;case"number-fraction":s.type="number",e(r)?s.append(r):37==r?$(new V(s))&&nt("data"):69==r||101==r?e(z())?K()&&s.append([101,r])&&nt("sci-notation"):43!=z(1)&&45!=z(1)||!e(z(2))?Z(new j(s,r))&&nt("dimension"):s.append([101,z(1),z(2)])&&K(2)&&nt("sci-notation"):45==r?i(z())?K()&&Z(new j(s,[45,r]))&&nt("dimension"):92==z(1)&&u(z(2))?et()&&$()&&nt("data")&&X():92==z(1)?K()&&Z(new j(s,[45,ot()]))&&nt("dimension"):$()&&nt("data")&&X():i(r)?Z(new j(s,r))&&nt("dimension"):92==r?u(z)?et()&&$()&&nt("data")&&X():Z(new j(s,ot()))&&nt("dimension"):$()&&nt("data")&&X();break;case"dimension":a(r)?s.append(r):92==r?u(z())?et()&&$()&&nt("data")&&X():s.append(ot()):$()&&nt("data")&&X();break;case"sci-notation":s.type="number",e(r)?s.append(r):$()&&nt("data")&&X();break;case"url":Q()?et()&&$(new S)&&nt("data"):34==r?nt("url-double-quote"):39==r?nt("url-single-quote"):41==r?$(new W)&&nt("data"):d(r)?Y():nt("url-unquoted")&&X();break;case"url-double-quote":s instanceof W||Z(new W),Q()?et()&&$(new S)&&nt("data"):34==r?nt("url-end"):l(r)?et()&&nt("bad-url"):92==r?l(z())?K():u(z())?et()&&$(new S)&&nt("data")&&X():s.append(ot()):s.append(r);break;case"url-single-quote":s instanceof W||Z(new W),Q()?et()&&$(new S)&&nt("data"):39==r?nt("url-end"):l(r)?et()&&nt("bad-url"):92==r?l(z())?K():u(z())?et()&&$(new S)&&nt("data")&&X():s.append(ot()):s.append(r);break;case"url-end":Q()?et()&&$(new S)&&nt("data"):d(r)?Y():41==r?$()&&nt("data"):et()&&nt("bad-url")&&X();break;case"url-unquoted":s instanceof W||Z(new W),Q()?et()&&$(new S)&&nt("data"):d(r)?nt("url-end"):41==r?$()&&nt("data"):34==r||39==r||40==r||c(r)?et()&&nt("bad-url"):92==r?u(z())?et()&&nt("bad-url"):s.append(ot()):s.append(r);break;case"bad-url":Q()?et()&&$(new S)&&nt("data"):41==r?$(new S)&&nt("data"):92==r?u(z())?Y():ot():Y();break;case"unicode-range":for(var rt=[r],st=[r],it=1;6>it&&t(z());it++)K(),rt.push(r),st.push(r);if(63==z()){for(;6>it&&63==z();it++)K(),rt.push("0".charCodeAt(0)),st.push("f".charCodeAt(0));$(new q(rt,st))&&nt("data")}else if(45==z(1)&&t(z(2))){K(),K(),st=[r];for(var it=1;6>it&&t(z());it++)K(),st.push(r);$(new q(rt,st))&&nt("data")}else $(new q(rt))&&nt("data");break;default:tt("Unknown state '"+g+"'")}}}function p(e){return String.fromCharCode.apply(null,e.filter(function(e){return e}))}var g=function(e,t,n){return e>=t&&n>=e},m=1114111,h=cssSyntax.TokenList=function h(){var e=[];return e.toCSSString=cssSyntax.TokenListToCSSString,e};cssSyntax.TokenListToCSSString=function(e){return e?this.map(function(e){return e.toCSSString()}).join(e):this.asCSSString||(this.asCSSString=this.map(function(e){return e.toCSSString()}).join("/**/").replace(/( +\/\*\*\/ *| * | *\/\*\*\/ +)/g," ").replace(/( +\/\*\*\/ *| * | *\/\*\*\/ +)/g," ").replace(/(\!|\:|\;|\@|\.|\,|\*|\=|\&|\\|\/|\<|\>|\[|\{|\(|\]|\}|\)|\|)\/\*\*\//g,"$1").replace(/\/\*\*\/(\!|\:|\;|\@|\.|\,|\*|\=|\&|\\|\/|\<|\>|\[|\{|\(|\]|\}|\)|\|)/g,"$1"))};var y=cssSyntax.CSSParserToken=function y(){return this};y.prototype.finish=function(){return this},y.prototype.toString=function(){return this.tokenType},y.prototype.toJSON=function(){return""+this},y.prototype.toCSSString=function(){return""+this};var v=cssSyntax.BadStringToken=function v(){return this};v.prototype=new y,v.prototype.tokenType="BADSTRING",v.prototype.toCSSString=function(){return"'"};var S=cssSyntax.BadURLToken=function S(){return this};S.prototype=new y,S.prototype.tokenType="BADURL",S.prototype.toCSSString=function(){return"url("};var w=cssSyntax.WhitespaceToken=function w(){return this};w.prototype=new y,w.prototype.tokenType="WHITESPACE",w.prototype.toString=function(){return"WS"},w.prototype.toCSSString=function(){return" "};var C=cssSyntax.CDOToken=function C(){return this};C.prototype=new y,C.prototype.tokenType="CDO",C.prototype.toCSSString=function(){return"<!--"};var b=cssSyntax.CDCToken=function b(){return this};b.prototype=new y,b.prototype.tokenType="CDC",C.prototype.toCSSString=function(){return"-->"};var E=cssSyntax.ColonToken=function E(){return this};E.prototype=new y,E.prototype.tokenType=":";var R=cssSyntax.SemicolonToken=function R(){return this};R.prototype=new y,R.prototype.tokenType=";";var T=cssSyntax.OpenCurlyToken=function T(){return this};T.prototype=new y,T.prototype.tokenType="{";var k=cssSyntax.CloseCurlyToken=function k(){return this};k.prototype=new y,k.prototype.tokenType="}";var N=cssSyntax.OpenSquareToken=function N(){return this};N.prototype=new y,N.prototype.tokenType="[";var O=cssSyntax.CloseSquareToken=function O(){return this};O.prototype=new y,O.prototype.tokenType="]";var A=cssSyntax.OpenParenToken=function A(){return this};A.prototype=new y,A.prototype.tokenType="(";var x=cssSyntax.CloseParenToken=function x(){return this};x.prototype=new y,x.prototype.tokenType=")";var L=cssSyntax.EOFToken=function L(){return this};L.prototype=new y,L.prototype.tokenType="EOF",L.prototype.toCSSString=function(){return""};var F=cssSyntax.DelimToken=function F(e){return this.value=String.fromCharCode(e),this};F.prototype=new y,F.prototype.tokenType="DELIM",F.prototype.toString=function(){return"DELIM("+this.value+")"},F.prototype.toCSSString=function(){return this.value};var I=cssSyntax.StringValuedToken=function I(){return this};I.prototype=new y,I.prototype.append=function(e){if(e instanceof Array)for(var t=0;e.length>t;t++)this.value.push(e[t]);else this.value.push(e);return!0},I.prototype.finish=function(){return this.value=this.valueAsString(),this},I.prototype.ASCIImatch=function(e){return this.valueAsString().toLowerCase()==e.toLowerCase()},I.prototype.valueAsString=function(){return"string"==typeof this.value?this.value:p(this.value)},I.prototype.valueAsCodes=function(){if("string"==typeof this.value){for(var e=[],t=0;this.value.length>t;t++)e.push(this.value.charCodeAt(t));return e}return this.value.filter(function(e){return e})};var M=cssSyntax.IdentifierToken=function M(e){this.value=new h,this.append(e)};M.prototype=new I,M.prototype.tokenType="IDENT",M.prototype.toString=function(){return"IDENT("+this.value+")"},M.prototype.toCSSString=function(){return this.value};var P=cssSyntax.FunctionToken=function P(e){this.value=e.finish().value};P.prototype=new I,P.prototype.tokenType="FUNCTION",P.prototype.toString=function(){return"FUNCTION("+this.value+")"},P.prototype.toCSSString=function(){return this.value+"("};var H=cssSyntax.AtKeywordToken=function H(e){this.value=new h,this.append(e)};H.prototype=new I,H.prototype.tokenType="AT-KEYWORD",H.prototype.toString=function(){return"AT("+this.value+")"},H.prototype.toCSSString=function(){return"@"+this.value};var B=cssSyntax.HashToken=function B(e){this.value=new h,this.append(e)};B.prototype=new I,B.prototype.tokenType="HASH",B.prototype.toString=function(){return"HASH("+this.value+")"},B.prototype.toCSSString=function(){return"#"+this.value};var D=cssSyntax.StringToken=function D(e){this.value=new h,this.append(e)};D.prototype=new I,D.prototype.tokenType="STRING",D.prototype.toString=function(){return'"'+this.value+'"'},D.prototype.toCSSString=function(){return'"'+this.value.replace(/"/g,'\\"')+'"'};var W=cssSyntax.URLToken=function W(e){this.value=new h,this.append(e)};W.prototype=new I,W.prototype.tokenType="URL",W.prototype.toString=function(){return"URL("+this.value+")"},W.prototype.toCSSString=function(){return'url("'+this.value.replace(/"/g,'\\"')+'")'};var U=cssSyntax.NumberToken=function U(e){this.value=new h,this.append(e),this.type="integer"};U.prototype=new I,U.prototype.tokenType="NUMBER",U.prototype.toString=function(){return"integer"==this.type?"INT("+this.value+")":"NUMBER("+this.value+")"},U.prototype.finish=function(){return this.repr=this.valueAsString(),this.value=1*this.repr,0!=Math.abs(this.value)%1&&(this.type="number"),this},U.prototype.toCSSString=function(){return""+this.value};var V=cssSyntax.PercentageToken=function V(e){e.finish(),this.value=e.value,this.repr=e.repr};V.prototype=new y,V.prototype.tokenType="PERCENTAGE",V.prototype.toString=function(){return"PERCENTAGE("+this.value+")"},V.prototype.toCSSString=function(){return this.value+"%"};var j=cssSyntax.DimensionToken=function j(e,t){e.finish(),this.num=e.value,this.unit=[],this.repr=e.repr,this.append(t)};j.prototype=new y,j.prototype.tokenType="DIMENSION",j.prototype.toString=function(){return"DIM("+this.num+","+this.unit+")"},j.prototype.toCSSString=function(){return this.num+this.unit},j.prototype.append=function(e){if(e instanceof Array)for(var t=0;e.length>t;t++)this.unit.push(e[t]);else this.unit.push(e);return!0},j.prototype.finish=function(){return this.unit=p(this.unit),this.repr+=this.unit,this};var q=cssSyntax.UnicodeRangeToken=function q(e,t){return e=parseInt(p(e),16),t=void 0===t?e+1:parseInt(p(t),16),e>m&&(t=e),e>t&&(t=e),t>m&&(t=m),this.start=e,this.end=t,this};q.prototype=new y,q.prototype.tokenType="UNICODE-RANGE",q.prototype.toCSSString=function(){return"Â¿"},q.prototype.toString=function(){return this.start+1==this.end?"UNICODE-RANGE("+this.start.toString(16).toUpperCase()+")":this.start<this.end?"UNICODE-RANGE("+this.start.toString(16).toUpperCase()+"-"+this.end.toString(16).toUpperCase()+")":"UNICODE-RANGE()"},q.prototype.contains=function(e){return e>=this.start&&this.end>e},cssSyntax.tokenize=f})(),function(){function e(e){function t(){switch(u.tokenType){case"(":case"[":case"{":return n();case"FUNCTION":return d();default:return u}}function n(){for(var e={"(":")","[":"]","{":"}"}[u.tokenType],n=new a(u.tokenType);;)switch(y(),u.tokenType){case"EOF":case e:return n;default:n.append(t())}}function d(){for(var e=new c(u.value),n=new l;;)switch(y(),u.tokenType){case"EOF":case")":return e.append(n),e;case"DELIM":","==u.value?(e.append(n),n=new l):n.append(u);break;default:n.append(t())}}"string"==typeof e&&(e=cssSyntax.tokenize(e));for(var u,f="top-level",p=-1,g=new o,m=[g],h=m[0],y=function(t){return void 0===t&&(t=1),p+=t,u=e.length>p?e[p]:new EOFToken,!0},v=function(){return p--,!0},S=function(){return e[p+1]},w=function(e){return void 0===e?""!==h.fillType?f=h.fillType:"STYLESHEET"==h.type?f="top-level":(console.log("Unknown rule-type while switching to current rule's content mode: ",h),f=""):f=e,!0},C=function(e){return h=e,m.push(h),!0},b=function(e){return console.log("Parse error at token "+p+": "+u+".\n"+e),!0},E=function(){var e=m.pop();return h=m[m.length-1],h.append(e),!0},R=function(){return m.pop(),h=m[m.length-1],!0},T=function(){for(;m.length>1;)E()};;)switch(y(),f){case"top-level":switch(u.tokenType){case"CDO":case"CDC":case"WHITESPACE":break;case"AT-KEYWORD":C(new r(u.value))&&w("at-rule");break;case"{":b("Attempt to open a curly-block at top-level.")&&t();break;case"EOF":return T(),g;default:C(new s)&&w("selector")&&v()}break;case"at-rule":switch(u.tokenType){case";":E()&&w();break;case"{":""!==h.fillType?w(h.fillType):b("Attempt to open a curly-block in a statement-type at-rule.")&&R()&&w("next-block")&&v();break;case"EOF":return T(),g;default:h.appendPrelude(t())}break;case"rule":switch(u.tokenType){case"WHITESPACE":break;case"}":E()&&w();break;case"AT-KEYWORD":C(new r(u.value))&&w("at-rule");break;case"EOF":return T(),g;default:C(new s)&&w("selector")&&v()}break;case"selector":switch(u.tokenType){case"{":w("declaration");break;case"EOF":return R()&&T(),g;default:h.appendSelector(t())}break;case"declaration":switch(u.tokenType){case"WHITESPACE":case";":break;case"}":E()&&w();break;case"AT-RULE":C(new r(u.value))&&w("at-rule");break;case"IDENT":C(new i(u.value))&&w("after-declaration-name");break;case"EOF":return T(),g;default:b()&&R()&&w("next-declaration")}break;case"after-declaration-name":switch(u.tokenType){case"WHITESPACE":break;case":":w("declaration-value");break;case";":b("Incomplete declaration - semicolon after property name.")&&R()&&w();break;case"EOF":return R()&&T(),g;default:b("Invalid declaration - additional token after property name")&&R()&&w("next-declaration")}break;case"declaration-value":switch(u.tokenType){case"DELIM":"!"==u.value&&"IDENT"==S().tokenType&&"important"==S().value.toLowerCase()?(y(),h.important=!0,w("declaration-end")):h.append(u);break;case";":E()&&w();break;case"}":E()&&E()&&w();break;case"EOF":return T(),g;default:h.append(t())}break;case"declaration-end":switch(u.tokenType){case"WHITESPACE":break;case";":E()&&w();break;case"}":E()&&E()&&w();break;case"EOF":return T(),g;default:b("Invalid declaration - additional token after !important.")&&R()&&w("next-declaration")}break;case"next-block":switch(u.tokenType){case"{":t()&&w();break;case"EOF":return T(),g;default:t()}break;case"next-declaration":switch(u.tokenType){case";":w("declaration");
break;case"}":w("declaration")&&v();break;case"EOF":return T(),g;default:t()}break;default:return console.log("Unknown parsing mode: "+f),void 0}}var t=cssSyntax.TokenList,n=cssSyntax.CSSParserRule=function n(){return this};n.prototype.fillType="",n.prototype.toString=function(e){return JSON.stringify(this.toJSON(),null,e)},n.prototype.append=function(e){return this.value.push(e),this};var o=cssSyntax.Stylesheet=function o(){return this.value=new t,this};o.prototype=new n,o.prototype.type="STYLESHEET",o.prototype.toJSON=function(){return{type:"stylesheet",value:this.value.map(function(e){return e.toJSON()})}},o.prototype.toCSSString=function(){return this.value.toCSSString("\n")};var r=cssSyntax.AtRule=function r(e){return this.name=e,this.prelude=new t,this.value=new t,e in r.registry&&(this.fillType=r.registry[e]),this};r.prototype=new n,r.prototype.type="AT-RULE",r.prototype.appendPrelude=function(e){return this.prelude.push(e),this},r.prototype.toJSON=function(){return{type:"at",name:this.name,prelude:this.prelude.map(function(e){return e.toJSON()}),value:this.value.map(function(e){return e.toJSON()})}},r.prototype.toCSSString=function(){return""!=this.fillType?"@"+this.name+" "+this.prelude.toCSSString()+"{"+this.value.toCSSString()+"} ":"@"+this.name+" "+this.prelude.toCSSString()+"; "},r.registry={"import":"",media:"rule","font-face":"declaration",page:"declaration",keyframes:"rule",namespace:"","counter-style":"declaration",supports:"rule",document:"rule","font-feature-values":"declaration",viewport:"","region-style":"rule"};var s=cssSyntax.StyleRule=function s(){return this.selector=new t,this.value=new t,this};s.prototype=new n,s.prototype.type="STYLE-RULE",s.prototype.fillType="declaration",s.prototype.appendSelector=function(e){return this.selector.push(e),this},s.prototype.toJSON=function(){return{type:"selector",selector:this.selector.map(function(e){return e.toJSON()}),value:this.value.map(function(e){return e.toJSON()})}},s.prototype.toCSSString=function(){return this.selector.toCSSString()+"{"+this.value.toCSSString()+"} "};var i=cssSyntax.Declaration=function i(e){return this.name=e,this.value=new t,this};i.prototype=new n,i.prototype.type="DECLARATION",i.prototype.toJSON=function(){return{type:"declaration",name:this.name,value:this.value.map(function(e){return e.toJSON()})}},i.prototype.toCSSString=function(){return this.name+":"+this.value.toCSSString()+"; "};var a=cssSyntax.SimpleBlock=function a(e){return this.name=e,this.value=new t,this};a.prototype=new n,a.prototype.type="BLOCK",a.prototype.toJSON=function(){return{type:"block",name:this.name,value:this.value.map(function(e){return e.toJSON()})}},a.prototype.toCSSString=function(){switch(this.name){case"(":return"("+this.value.toCSSString()+")";case"[":return"["+this.value.toCSSString()+"]";case"{":return"{"+this.value.toCSSString()+"}";default:return this.name+this.value.toCSSString()+this.name}};var c=cssSyntax.Func=function c(e){return this.name=e,this.value=new t,this};c.prototype=new n,c.prototype.type="FUNCTION",c.prototype.toJSON=function(){return{type:"func",name:this.name,value:this.value.map(function(e){return e.toJSON()})}},c.prototype.toCSSString=function(){return this.name+"("+this.value.toCSSString().slice(0,-2)+")"};var l=cssSyntax.FuncArg=function l(){return this.value=new t,this};l.prototype=new n,l.prototype.type="FUNCTION-ARG",l.prototype.toJSON=function(){return this.value.map(function(e){return e.toJSON()})},l.prototype.toCSSString=function(){return this.value.toCSSString()+", "},cssSyntax.parse=e}();var cssCascade={computeSelectorPriorityOf:function(e){"string"==typeof e&&(e=cssSyntax.parse(e+"{}").value[0].selector);for(var t=0,n=0,o=0,r=0;e.length>r;r++)if(e[r]instanceof cssSyntax.IdentifierToken)o++;else if(e[r]instanceof cssSyntax.DelimToken)"."==e[r].value&&(n++,r++);else if(e[r]instanceof cssSyntax.ColonToken)if(e[++r]instanceof cssSyntax.ColonToken)o++,r++;else if(e[r]instanceof cssSyntax.Func&&/^(not|matches)$/i.test(e[r].name)){var s=this.computeSelectorPriorityOf(e[r].value[0].value);o+=s%256,s/=256,n+=s%256,s/=256,t+=s}else n++;else e[r]instanceof cssSyntax.SimpleBlock?"["==e[r].name&&n++:e[r]instanceof cssSyntax.HashToken&&t++;return t>255&&(numberOfIds=255),n>255&&(n=255),o>255&&(o=255),256*(256*t+n)+o},findAllMatchingRules:function(e){for(var t=[],n=function(o){for(var r=o.length;r--;){var s=o[r];if(!s.disabled)if(s instanceof cssSyntax.StyleRule)for(var i=s.subRules||cssCascade.splitRule(s),a=i.length;a--;){var c=!1,l=i[a].selector.toCSSString();try{if(e.matches)c=e.matches(l);else if(e.matchesSelector)c=e.matchesSelector(l);else if(e.oMatchesSelector)c=e.oMatchesSelector(l);else if(e.msMatchesSelector)c=e.msMatchesSelector(l);else if(e.mozMatchesSelector)c=e.mozMatchesSelector(l);else{if(!e.webkitMatchesSelector)throw Error("wft u no element.matchesSelector?");c=e.webkitMatchesSelector(l)}}catch(d){cssConsole.warn("Invalid selector "+l)}c&&t.push(i[a])}else s instanceof cssSyntax.AtRule&&"media"==s.name&&n(s.value)}},o=cssCascade.stylesheets.length;o--;){var r=cssCascade.stylesheets[o];n(r)}return t},findAllMatchingRulesWithPseudo:function(e,t){for(var n=[],o=function(r){for(var s=r.length;s--;){var i=r[s];if(!i.disabled)if(i instanceof cssSyntax.StyleRule)for(var a=i.subRules||cssCascade.splitRule(i),c=a.length;c--;){var l=a[c].selector.toCSSString().trim().replace(/\/\*\*\//,""),d=l.length-t.length-1;if(!(0>=d)){if(l.lastIndexOf("::"+t)==d-1)l=l.substr(0,d-1);else{if(l.lastIndexOf(":"+t)!=d)continue;l=l.substr(0,d)}var u=!1;try{if(e.matches)u=e.matches(l);else if(e.matchesSelector)u=e.matchesSelector(l);else if(e.oMatchesSelector)u=e.oMatchesSelector(l);else if(e.msMatchesSelector)u=e.msMatchesSelector(l);else if(e.mozMatchesSelector)u=e.mozMatchesSelector(l);else{if(!e.webkitMatchesSelector)throw Error("wft u no element.matchesSelector?");u=e.webkitMatchesSelector(l)}}catch(f){setImmediate(function(){throw f})}u&&n.push(a[c])}}else i instanceof cssSyntax.AtRule&&"media"==i.name&&o(i.value)}},r=cssCascade.stylesheets.length;r--;){var s=cssCascade.stylesheets[r];o(s)}return n},allCSSProperties:null,getAllCSSProperties:function(){if(this.allCSSProperties)return this.allCSSProperties;for(var e=getComputedStyle(document.documentElement),t=Array(e.length),n=e.length;n--;)t[n]=e[n];return-1==t.indexOf("content")&&t.push("content"),-1==t.indexOf("counter-reset")&&(t.push("counter-reset"),t.push("counter-increment"),cssCascade.computationUnsafeProperties["counter-reset"]=!0),this.allCSSProperties=t},computationUnsafeProperties:{bottom:!1,direction:!1,display:!1,"font-size":!1,height:!1,left:!1,"line-height":!1,"max-height":!1,"max-width":!1,"min-height":!1,"min-width":!1,right:!1,"text-align":!1,"text-align-last":!1,top:!1,width:!1},inheritingProperties:{"border-collapse":!1,"border-spacing":!1,"caption-side":!1,color:!1,cursor:!1,direction:!1,"empty-cells":!1,"font-family":!1,"font-size":!1,"font-style":!1,"font-variant":!1,"font-weight":!1,font:!1,"letter-spacing":!1,"line-height":!1,"list-style-image":!1,"list-style-position":!1,"list-style-type":!1,"list-style":!1,orphans:!1,quotes:!1,"text-align":!1,"text-indent":!1,"text-transform":!1,visibility:!1,"white-space":!1,widows:!1,"word-break":!1,"word-spacing":!1,"word-wrap":!1},defaultStylesForTag:Object.create?Object.create(null):{},getDefaultStyleForTag:function(e){var t=cssRegionsHelpers[e];if(t)return t;var n=document.createElement(e),o=cssRegionsHelpers[e]=getComputedStyle(n);return o.display?o:(document.head.insertBefore(n,document.head.firstChild),o)},getSpecifiedStyle:function(e,t,n,o){var r;if((r=e.getAttribute("data-css-regions-fragment-of"))&&(r=document.querySelector('[data-css-regions-fragment-source="'+r+'"]')))return cssCascade.getSpecifiedStyle(r,t);if(e.currentStyle&&!window.opera){var s=e.myStyle[t]||e.currentStyle[t];return cssSyntax.parseCSSValue(s,o)}try{if(s=e.style.getPropertyValue(t)||e.myStyle[t])return cssSyntax.parseCSSValue(s,o)}catch(i){}var a=!1,c=0,s=new cssSyntax.TokenList,l=n||(t in cssCascade.monitoredProperties?e.myMatchedRules||[]:cssCascade.findAllMatchingRules(e)),d=function(e){for(var n=e.length;n--;)if(!e[n].disabled)if(e[n]instanceof cssSyntax.StyleRule){for(var o=e[n].value,r=o.length-1;r>=0;r--)if("DECLARATION"==o[r].type&&o[r].name==t){var i=cssCascade.computeSelectorPriorityOf(e[n].selector);a?o[r].important&&i>=c&&(c=i,s=o[r].value):o[r].important?(a=!0,c=i,s=o[r].value):i>=c&&(c=i,s=o[r].value)}}else e[n]instanceof cssSyntax.AtRule&&"media"==e[n].name&&d(e[n].value)};return d(l),s},stylesheets:[],loadStyleSheet:function(e,t){var n=cssSyntax.parse(e).value;t!==void 0?cssCascade.stylesheets[t]=n:t=cssCascade.stylesheets.push(n),cssCascade.startMonitoringStylesheet(n)},loadStyleSheetTag:function(e,t){if(!e.hasAttribute("data-css-polyfilled")){if("LINK"==e.tagName)try{cssCascade.stylesheets[t]=new cssSyntax.TokenList;var n=new XMLHttpRequest;n.href=e.href,n.open("GET",e.href,!0),n.ruleIndex=t,n.onreadystatechange=function(){4==this.readyState&&(200==this.status||0==this.status?cssCascade.loadStyleSheet(this.responseText,this.ruleIndex):cssConsole.log("css-cascade polyfill failled to load: "+this.href))},n.send()}catch(o){cssConsole.log("css-cascade polyfill failled to load: "+e.href)}else cssCascade.loadStyleSheet(e.textContent,t);e.setAttribute("data-css-polyfilled",!0)}},selectorForStylesheets:"style:not([data-no-css-polyfill]):not([data-css-polyfilled]), link[rel=stylesheet]:not([data-no-css-polyfill]):not([data-css-polyfilled])",loadAllStyleSheets:function(){var e=document.head||document.documentElement,t=e.querySelectorAll(cssCascade.selectorForStylesheets),n=this.stylesheets.length;this.stylesheets.length+=t.length;for(var o=t.length;o--;){var r=t[o];cssCascade.loadStyleSheetTag(r,n+o)}},monitoredProperties:Object.create?Object.create(null):{},monitoredPropertiesHandler:{onupdate:function(e,t){for(var n=cssCascade.monitoredProperties,o=t.value,r=o.length-1;r>=0;r--)if("DECLARATION"==o[r].type&&o[r].name in n){for(var s=n[o[r].name],i=s.length;i--;)s[i].onupdate(e,t);break}}},startMonitoringProperties:function(e,t){for(var n=e.length;n--;){var o=e[n],r=cssCascade.monitoredProperties[o]||(cssCascade.monitoredProperties[o]=[]);r.push(t)}for(var s=0;cssCascade.stylesheets.length>s;s++){var i=cssCascade.stylesheets[s];cssCascade.startMonitoringStylesheet(i)}},startMonitoringStylesheet:function(e){for(var t=0;e.length>t;t++)if(e[t]instanceof cssSyntax.StyleRule){if(e[t].isMonitored)continue;for(var n=e[t].value,o=n.length-1;o>=0;o--)if("DECLARATION"==n[o].type&&n[o].name in cssCascade.monitoredProperties){cssCascade.startMonitoringRule(e[t]);break}}else e[t]instanceof cssSyntax.AtRule&&"media"==e[t].name&&window.matchMedia&&cssCascade.startMonitoringMedia(e[t])},startMonitoringMedia:function(e){try{var t=window.matchMedia(e.prelude.toCSSString());cssCascade.updateMedia(e.value,!t.matches,!1),t.addListener(function(t){cssCascade.updateMedia(e.value,!t.matches,!0)}),cssCascade.startMonitoringStylesheet(e.value)}catch(n){setImmediate(function(){throw n})}},updateMedia:function(e,t,n){for(var o=e.length;o--;){e[o].disabled=t;var r=e[o].subRules;if(r)for(var s=r.length;s--;)r[s].disabled=t}if(n)for(var o=e.length;o--;)for(var i=document.querySelectorAll(e[o].selector.toCSSString()),s=i.length;s--;)cssCascade.monitoredPropertiesHandler.onupdate(i[s],e[o])},splitRule:function(e){var t=[],n=new cssSyntax.StyleRule;n.disabled=e.disabled;for(var o=0;e.selector.length>o;o++)e.selector[o]instanceof cssSyntax.DelimToken&&","==e.selector[o].value?(n.value=e.value,t.push(n),n=new cssSyntax.StyleRule,n.disabled=e.disabled):n.selector.push(e.selector[o]);return n.value=e.value,t.push(n),e.subRules=t},startMonitoringRule:function(e){if(!e.isMonitored){e.isMonitored=!0;for(var t=e.subRules||cssCascade.splitRule(e),n=0;t.length>n;n++)e=t[n],myQuerySelectorLive(e.selector.toCSSString(),{onadded:function(t){(t.myMatchedRules=t.myMatchedRules||[]).push(e),cssCascade.monitoredPropertiesHandler.onupdate(t,e)},onremoved:function(t){t.myMatchedRules&&t.myMatchedRules.splice(t.myMatchedRules.indexOf(e),1),cssCascade.monitoredPropertiesHandler.onupdate(t,e)}})}},toCamelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})},polyfillStyleInterface:function(e){var t={get:function(){try{if(!this.parentElement)throw Error("Please use the anHTMLElement.myStyle property to get polyfilled properties")}catch(t){return setImmediate(function(){throw t}),""}return this.parentElement.getAttribute("data-style-"+e)},set:function(t){try{if(!this.parentElement)throw Error("Please use the anHTMLElement.myStyle property to set polyfilled properties")}catch(n){return setImmediate(function(){throw n}),void 0}this.parentElement.getAttribute("data-style-"+e)!=t&&this.parentElement.setAttribute("data-style-"+e,t)}},n=Object.getPrototypeOf(document.documentElement.style)||CSSStyleDeclaration;Object.defineProperty(n,e,t),Object.defineProperty(n,cssCascade.toCamelCase(e),t),cssCascade.startMonitoringRule(cssSyntax.parse("[data-style-"+e+"]{"+e+":attr(style)}").value[0]),cssCascade.getAllCSSProperties().push(e),cssCascade.computationUnsafeProperties[e]=!0}};basicObjectModel.EventTarget.implementsIn(cssCascade),Object.defineProperty(Element.prototype,"myStyle",{get:function(){var e=this.style;return e.parentElement||(e.parentElement=this),e}}),cssCascade.loadAllStyleSheets(),document.addEventListener("DOMContentLoaded",function(){cssCascade.loadAllStyleSheets(),window.myQuerySelectorLive&&window.myQuerySelectorLive(cssCascade.selectorForStylesheets,{onadded:function(e){cssCascade.loadStyleSheetTag(e),cssCascade.dispatchEvent("stylesheetadded")}})});var myDOMUpdateEventStream;myDOMUpdateEventStream="MutationObserver"in window?function myDOMUpdateEventStream(e){if(e)var t="target"in e?e.target:document.documentElement,n={subtree:"subtree"in e?!!e.subtree:!0,attributes:"attributes"in e?!!e.attributes:!0,childList:"childList"in e?!!e.childList:!0,characterData:"characterData"in e?!!e.characterData:!1};else var t=document.documentElement,n={subtree:!0,attributes:!0,childList:!0,characterData:!1};var o=null;myEventStream.call(this,function(e){n&&(o=new MutationObserver(e),o.observe(t,n),t=null,n=null)},function(){o&&o.disconnect(),o=null},function(){o.takeRecords()})}:"MutationEvent"in window?function myDOMUpdateEventStream(e){var t=!1;if(e)var n="target"in e?e.target:document.documentElement;else var n=document.documentElement;var o=null,r=function(){!t&&r&&(document.removeEventListener("DOMContentLoaded",r,!1),document.removeEventListener("DOMContentLoaded",r,!1),n.removeEventListener("DOMSubtreeModified",r,!1),t=requestAnimationFrame(o))};myEventStream.call(this,function(e){o=e,document.addEventListener("DOMContentLoaded",r,!1),n.addEventListener("DOMSubtreeModified",r,!1)},function(){document.removeEventListener("DOMContentLoaded",r,!1),n.removeEventListener("DOMSubtreeModified",r,!1),cancelAnimationFrame(t),r=null,o=null,t=!1},function(e){o=e,t=!1,n.addEventListener("DOMSubtreeModified",r,!1)})}:myAnimationFrameEventStream,window.myQuerySelectorLive=function(e,t,n){var o,n=n||document,r=[],s=function s(o){o.schedule(s);for(var i=[],a=r.slice(0),c=n.querySelectorAll(e),l=i.length=c.length;l;)i.push(c[--l]);r=i.slice(0),c=null,a=a.filter(function(e){var n=e===document.documentElement||document.documentElement.contains(e);if(n)return!0;try{t.onremoved&&t.onremoved(e)}catch(o){setImmediate(function(){throw o})}return!1});for(var d=a.pop(),u=i.pop();d||u;)if(d===u)d=a.pop(),u=i.pop();else if(!u||d&&0!==(43&u.compareDocumentPosition(d))){try{t.onremoved&&t.onremoved(d)}catch(f){setImmediate(function(){throw f})}d=a.pop()}else{try{t.onadded&&t.onadded(u)}catch(f){setImmediate(function(){throw f})}u=i.pop()}},i=e.replace(/:(dir|lang|root|empty|blank|nth-child|nth-last-child|first-child|last-child|only-child|nth-of-type|nth-last-of-child|fist-of-type|last-of-type|only-of-type|not|matches|default)\b/gi,"");if(-1==i.indexOf(":"))o=new myDOMUpdateEventStream(n);else if(o=new myDOMUpdateEventStream(n),myDOMUpdateEventStream!=myAnimationFrameEventStream){var a=/:(focus|active)\b/gi;if(a.test(i)){o=new myCompositeEventStream(new myFocusEventStream,o);var a=/:(focus)\b/gi;i=i.replace(a,"")}var a=/:(active)\b/gi;a.test(i)&&(o=new myCompositeEventStream(new myMouseButtonEventStream,o),i=i.replace(a,""));var a=/:(target|checked|indeterminate|valid|invalid|in-range|out-of-range|user-error)\b/gi;if(a.test(i)){o=new myCompositeEventStream(new myTimeoutEventStream(250),o),i=i.replace(a,"");var a=/:(any-link|link|visited|local-link|enabled|disabled|read-only|read-write|required|optional)\b/gi;i=i.replace(a,"")}var a=/:(any-link|link|visited|local-link|enabled|disabled|read-only|read-write|required|optional)\b/gi;a.test(i)&&(o=new myCompositeEventStream(new myTimeoutEventStream(333),o),i=i.replace(a,""));var a=/:(hover)\b/gi;a.test(i)&&(o=new myCompositeEventStream(new myMouseEventStream,o),i=i.replace(a,"")),-1!==i.indexOf(":")&&(o=new myAnimationFrameEventStream)}s(o)};var cssBreak={isReplacedElement:function(e){if(!(e instanceof Element))return!1;var t=/^(SVG|MATH|IMG|VIDEO|OBJECT|EMBED|IFRAME|TEXTAREA|BUTTON|INPUT)$/;return t.test(e.tagName)},isScrollable:function(e,t){return e instanceof Element?(t===void 0&&(t=getComputedStyle(e).overflow),"visible"!==t&&"hidden"!==t):!1},isSingleLineOfTextComponent:function(e,t,n,o,r){return e instanceof Element?(t===void 0&&(t=getComputedStyle(e)),n===void 0&&(n=t.display),o===void 0&&(o=t.position),r===void 0&&(r=this.isReplacedElement(e)),!("inline-block"!==n&&"inline-table"!==n&&"inline-flex"!==n&&"inline-grid"!==n||"static"!==o&&"relative"!==o)):!0},hasAnyInlineFlow:function(e){function t(e){return e instanceof Element?!cssBreak.isOutOfFlowElement(e)&&cssBreak.isSingleLineOfTextComponent(e):!/^\s*$/.test(e.nodeValue)}for(var n=e.firstChild;n;){if(t(n))return!0;n=n.nextSibling}return!1},isLineBreakingElement:function(e,t,n,o){return e instanceof Element?(t===void 0&&(t=getComputedStyle(e)),n===void 0&&(n=t.display),o===void 0&&(o=t.position),"block"===n&&!this.isOutOfFlowElement(e,t,n,o)||"BR"===e.tagName&&"none"!==n):!1},isLinePreBreakingElement:function(e,t,n,o){if(!(e instanceof Element))return!1;var r=cssCascade.getSpecifiedStyle(e,"break-before").toCSSString();return"region"==r||"all"==r||cssBreak.isLineBreakingElement(e,t,n,o)},isLinePostBreakingElement:function(e,t,n,o){if(!(e instanceof Element))return!1;var r=cssCascade.getSpecifiedStyle(e,"break-after").toCSSString();return"region"==r||"all"==r||cssBreak.isLineBreakingElement(e,t,n,o)},isOutOfFlowElement:function(e,t,n,o,r){return e instanceof Element?(t===void 0&&(t=getComputedStyle(e)),n===void 0&&(n=t.display),o===void 0&&(o=t.position),r===void 0&&(r=t.float||t.styleFloat||t.cssFloat),"absolute"===o||"fixed"===o||"none"!==r||"none"===n):!1},areInSameSingleLine:function(e,t){function n(e,t,n){return{top:e.top+n,bottom:e.bottom+n,left:e.left+t,right:e.right+t}}if(e.nextSibling!=t){if(t.nextSibling!=e)throw"I gave up!";var o=e;e=t,t=o}if(this.isLinePostBreakingElement(e))return!1;if(this.isLinePreBreakingElement(t))return!1;if(this.isOutOfFlowElement(e))return!0;if(!this.isSingleLineOfTextComponent(e))return!1;var r=Node.getBoundingClientRect(e),s=Node.getBoundingClientRect(t);if(e instanceof Element){var i=getComputedStyle(e);r=n(r,parseFloat(i.marginLeft),parseFloat(i.marginTop)),"relative"==i.position&&(r=n(r,parseFloat(i.left),parseFloat(i.top)))}if(t instanceof Element){var a=getComputedStyle(t);s=n(s,parseFloat(a.marginLeft),parseFloat(a.marginTop)),"relative"==a.position&&(s=n(s,parseFloat(a.left),parseFloat(a.top)))}var c="rtl"==getComputedStyle(e.parentNode).direction?s:r,l="rtl"==getComputedStyle(e.parentNode).direction?r:s;return c.right<=l.left},isHiddenOverflowing:function(e,t){return e instanceof Element?(t===void 0&&(t=getComputedStyle(e).display),"hidden"==t&&e.offsetHeight!=e.scrollHeight):!1},hasBigRadius:function(e,t){if(!(e instanceof Element))return!1;if(t===void 0&&(t=getComputedStyle(e)),"borderTopLeftRadius"in t){var n=parseFloat(t.borderTopLeftRadius),o=parseFloat(t.borderTopRightRadius),r=parseFloat(t.borderBottomLeftRadius),s=parseFloat(t.borderBottomRightRadius);if(15>n&&15>o&&15>r&&15>s)return!1;var i=parseFloat(t.borderTopWidth),a=parseFloat(t.borderBottomWidth),c=parseFloat(t.borderLeftWidth),l=parseFloat(t.borderRightWidth);if(n>i)return!0;if(n>c)return!0;if(o>i)return!0;if(o>l)return!0;if(r>a)return!0;if(r>c)return!0;if(s>a)return!0;if(s>l)return!0}return!1},isBreakInsideAvoid:function(e){var t=cssCascade.getSpecifiedStyle(e,"break-inside",void 0,!0).toCSSString().trim().toLowerCase();return"avoid"==t||"avoid-region"==t},isMonolithic:function(e){if(!(e instanceof Element))return!1;var t=getComputedStyle(e),n=t.overflow,o=t.display,r=this.isReplacedElement(e),s=this.isScrollable(e,n),i=this.isSingleLineOfTextComponent(e,t,o,void 0,r),a=this.isHiddenOverflowing(e,n),c=this.hasBigRadius(e,t),l=this.isBreakInsideAvoid(e,t);return r||s||i||a||c||l},isPossibleBreakPoint:function(e,t){if(!(e instanceof Range))return!1;if(!e.collapsed)return!1;for(var n=e.startContainer;n&&n!==t;){if(cssBreak.isMonolithic(n))return!1;n=n.parentNode}for(var n=e.startContainer,o=e.startContainer.childNodes[e.startOffset];n&&o!==t;){if(o&&o.previousSibling&&this.areInSameSingleLine(o,o.previousSibling))return!1;o=n,n=n.parentNode}if(0==e.startOffset){var r=e.startContainer.childNodes[0];if(!r)return!1;var s=Node.getBoundingClientRect(r),i=e.startContainer.getBoundingClientRect();if(s.top==i.top)return!1}return!0}},cssRegionsHelpers={getAllLevelPreviousSibling:function(e,t){if(!e||e==t)return null;for(;!e.previousSibling;)if(e=e.parentNode,!e||e==t)return null;return e.previousSibling},markNodesAsRegion:function(e){e.forEach(function(e){e.regionOverset="empty",e.setAttribute("data-css-region",e.cssRegionsLastFlowFromName),cssRegionsHelpers.hideTextNodesFromFragmentSource([e]),e.cssRegionsWrapper=e.cssRegionsWrapper||e.appendChild(document.createElement("cssregion"))})},unmarkNodesAsRegion:function(e){e.forEach(function(e){e.regionOverset="fit";try{e.cssRegionsWrapper&&e.removeChild(e.cssRegionsWrapper)}catch(t){setImmediate(function(){throw t})}e.cssRegionsWrapper=void 0,delete e.cssRegionsWrapper,cssRegionsHelpers.unhideTextNodesFromFragmentSource([e]),e.removeAttribute("data-css-region")})},fragmentSourceIndex:0,markNodesAsFragmentSource:function(e,t){function n(e,o){var r,s;switch(e.nodeType){case 1:if(o===void 0||!t){var i=e.getAttributeNode("data-css-regions-fragment-source");i||e.setAttribute("data-css-regions-fragment-source",cssRegionsHelpers.fragmentSourceIndex++)}e.setAttribute("data-css-regions-cloning",!0),"OL"==e.tagName&&cssRegionsHelpers.expandListValues(e),o!==void 0&&"LI"==e.tagName&&cssRegionsHelpers.expandListValues(e.parentNode);case 9:case 11:for(r=e.firstChild;r;)s=r.nextSibling,n(r),r=s}}e.forEach(n)},expandListValues:function(e){if(!e.getAttribute("data-css-li-value-expanded")){if(e.setAttribute("data-css-li-value-expanded",!0),e.hasAttribute("reversed"))var t=e.getAttribute("start")?parseInt(e.getAttribute("start")):e.childElementCount,n=-1;else var t=e.getAttribute("start")?parseInt(e.getAttribute("start")):1,n=1;for(var o=e.firstElementChild,r=null;o;)"LI"===o.tagName&&((r=o.getAttributeNode("value"))?(t=parseInt(r.nodeValue),o.setAttribute("data-css-old-value",t)):o.setAttribute("value",t),t+=n),o=o.nextElementSibling}},unexpandListValues:function(e){if(e.hasAttribute("data-css-li-value-expanded")){e.removeAttribute("data-css-li-value-expanded");for(var t=e.firstElementChild,n=null;t;)"LI"===t.tagName&&((n=t.getAttributeNode("data-css-old-value"))?t.removeAttributeNode(n):t.removeAttribute("value")),t=t.nextElementSibling}},listOfTextNodesForIE:[],hideTextNodesFromFragmentSource:function(e){function t(e,n){var o,r;switch(e.nodeType){case 3:e.parentNode.getAttribute("data-css-regions-fragment-source")||(e.cssRegionsSavedNodeValue=e.nodeValue,e.nodeValue="",(navigator.userAgent.indexOf("MSIE")>0||navigator.userAgent.indexOf("Trident")>0)&&-1==cssRegionsHelpers.listOfTextNodesForIE.indexOf(e)&&cssRegionsHelpers.listOfTextNodesForIE.push(e));break;case 1:if(e.hasAttribute("data-css-regions-cloning")&&(e.removeAttribute("data-css-regions-cloning"),e.setAttribute("data-css-regions-cloned",!0),e.currentStyle&&""+e.currentStyle.display),n===void 0)return;case 9:case 11:for(o=e.firstChild;o;)r=o.nextSibling,t(o),o=r}}e.forEach(t)},unhideTextNodesFromFragmentSource:function(e){function t(e){var n,o;switch(e.nodeType){case 3:"cssRegionsSavedNodeValue"in e&&(e.nodeValue=e.cssRegionsSavedNodeValue,delete e.cssRegionsSavedNodeValue);break;case 1:if("undefined"==typeof k)return;case 9:case 11:for(n=e.firstChild;n;)o=n.nextSibling,t(n),n=o}}e.forEach(t)},unmarkNodesAsFragmentSource:function(e){function t(e,n){var o,r;switch(e.nodeType){case 3:"cssRegionsSavedNodeValue"in e&&(e.nodeValue=e.cssRegionsSavedNodeValue,delete e.cssRegionsSavedNodeValue);break;case 1:e.removeAttribute("data-css-regions-cloned"),e.removeAttribute("data-css-regions-fragment-source"),e.currentStyle&&""+e.currentStyle.display,"OL"==e.tagName&&cssRegionsHelpers.unexpandListValues(e),n!==void 0&&"LI"==e.tagName&&cssRegionsHelpers.unexpandListValues(e.parentNode);case 9:case 11:for(o=e.firstChild;o;)r=o.nextSibling,t(o),o=r}}e.forEach(t)},transformFragmentSourceToFragments:function(e){function t(e){var n,o;switch(e.nodeType){case 1:var r=e.getAttribute("data-css-regions-fragment-source");e.removeAttribute("data-css-regions-fragment-source"),e.removeAttribute("data-css-regions-cloning"),e.removeAttribute("data-css-regions-cloned"),e.setAttribute("data-css-regions-fragment-of",r),e.id&&(e.id+="--fragment");case 9:case 11:for(n=e.firstChild;n;)o=n.nextSibling,t(n),n=o}}e.forEach(t)},embedTrailingWhiteSpaceNodes:function(e){function t(e){var o,r;switch(e.nodeType){case 3:if(!e.previousSibling){"pre"!==getComputedStyle(e.parentNode).whiteSpace.substring(0,3)&&n.test(e.nodeValue)&&(e.parentNode.setAttribute("data-whitespace-before",e.nodeValue),e.parentNode.removeChild(e));break}if(!e.nextSibling){"pre"!==getComputedStyle(e.parentNode).whiteSpace.substring(0,3)&&n.test(e.nodeValue)&&(e.parentNode.setAttribute("data-whitespace-after",e.nodeValue),e.parentNode.removeChild(e));break}break;case 1:case 9:case 11:for(o=e.firstChild;o;)r=o.nextSibling,t(o),o=r}}var n=/^\s*$/;t(e)},unembedTrailingWhiteSpaceNodes:function(e){function t(e){var n,o;switch(e.nodeType){case 1:var r="";(r=e.getAttribute("data-whitespace-before"))&&""==e.getAttribute("data-starting-fragment")&&e.getAttribute("data-special-starting-fragment","")&&e.insertBefore(document.createTextNode(r),e.firstChild),e.removeAttribute("data-whitespace-before"),(r=e.getAttribute("data-whitespace-after"))&&""==e.getAttribute("data-continued-fragment")&&e.getAttribute("data-special-continued-fragment","")&&e.insertAfter(document.createTextNode(r),e.lastChild),e.removeAttribute("data-whitespace-after");case 9:case 11:for(n=e.firstChild;n;)o=n.nextSibling,t(n),n=o}}t(e)},copyStyle:function(e,t){function n(e,t,o){var r,s,i,a;switch(e.nodeType){case 1:for(var c=e.currentStyle&&!window.opera?void 0:cssCascade.findAllMatchingRules(e),l=cssCascade.allCSSProperties||cssCascade.getAllCSSProperties(),d=l.length;d--;)if(l[d]in cssCascade.computationUnsafeProperties||"-"==l[d][0]){var u=cssCascade.getSpecifiedStyle(e,l[d],c);if(u&&u.length)t.style.setProperty(l[d],u.toCSSString());else if(o&&e.parentNode&&"-"!=l[d][0]){if(!(l[d]in cssCascade.inheritingProperties))continue;if("font-size"==l[d]||!(l[d]in cssCascade.computationUnsafeProperties)&&"-"!=l[d][0]){var f=getComputedStyle(e).getPropertyValue(l[d]);t.style.setProperty(l[d],f);continue}var u=cssCascade.getSpecifiedStyle(e,l[d],c);u&&u.length&&t.style.setProperty(l[d],u.toCSSString())}}else{var f=getComputedStyle(e).getPropertyValue(l[d]),p=cssCascade.getDefaultStyleForTag(e.tagName).getPropertyValue(l[d]);f!=p&&t.style.setProperty(l[d],f)}var g=function(e,t,n){var o=!!cssCascade.findAllMatchingRulesWithPseudo(e,n.substr(1)).length;if(o){var r=getComputedStyle(e,n);if("none"!=r.content){var s=document.createElement("style");s.setAttribute("data-no-css-polyfill",!0);for(var i="",a=cssCascade.allCSSProperties||cssCascade.getAllCSSProperties(),c=a.length;c--;){var l=r.getPropertyValue(a[c]);i+=a[c]+":"+l+";"}s.textContent='[data-css-regions-fragment-of="'+e.getAttribute("data-css-regions-fragment-source")+'"]'+":not([data-css-regions-starting-fragment]):not([data-css-regions-special-starting-fragment])"+":"+n+"{"+i+"}",t.parentNode.insertBefore(s,t)}}};g(e,t,":before"),g(e,t,":after"),cssRegionsHelpers.retargetEvents(e,t);case 9:case 11:for(r=e.firstChild,i=t.firstChild;r;)s=r.nextSibling,a=i.nextSibling,r.cssRegionsLastFlowIntoName&&"element"===r.cssRegionsLastFlowIntoType?t.removeChild(i):n(r,i),r=s,i=a}}n(e,t,!0)},retargetEvents:function(e,t){var n="cssRegionsHelpers.retargetEvent(this,event)";t.setAttribute("onclick",n),t.setAttribute("ondblclick",n),t.setAttribute("onmousedown",n),t.setAttribute("onmouseup",n),t.setAttribute("onmousein",n),t.setAttribute("onmouseout",n),t.setAttribute("onmouseenter",n),t.setAttribute("onmouseleave",n)},retargetEvent:function(e,t){var n=e.cssRegionsFragmentSource||(e.cssRegionsFragmentSource=document.querySelector('[data-css-regions-fragment-source="'+e.getAttribute("data-css-regions-fragment-of")+'"]'));if(n){var o=basicObjectModel.cloneEvent(t);if(n.dispatchEvent(o),t.stopImmediatePropagation?t.stopImmediatePropagation():t.stopPropagation(),o.isDefaultPrevented||o.defaultPrevented)return t.preventDefault(),!1}}},cssRegions={layoutContent:function(e,t,n,o){if(!e)return n.ondone(!!t.hasChildNodes());if(!e.length)return n.ondone(!!t.hasChildNodes());o||(o=Date.now());for(var r=e.pop();;){var s=getComputedStyle(r).display;if("none"==s||-1!==s.indexOf("inline")){if(r=e.pop())continue;return n.ondone(!!t.hasChildNodes())}break}if(r.cssRegionsWrapper?(r.cssRegionsWrapper.cssRegionHost=r,r=r.cssRegionsWrapper):r.cssRegionHost=r,r.innerHTML="",!t.hasChildNodes()){r.cssRegionHost.cssRegionsLastOffsetHeight=r.cssRegionHost.offsetHeight,r.cssRegionHost.cssRegionsLastOffsetWidth=r.cssRegionHost.offsetWidth,r.cssRegionHost.regionOverset="empty";var i={ondone:function(){},onprogress:function(e){e()}};return cssRegions.layoutContent(e,t,i,o),n.ondone(!1)}return r.appendChild(t),0!==e.length?this.layoutContentInNextRegionsWhenReady(r,e,t,n,o):this.layoutContentInLastRegionWhenReady(r,e,t,n,o)},layoutContentInNextRegionsWhenReady:function(e,t,n,o,r){for(var s=e.getElementsByTagName("img"),i=s.length;i--;)if(!s[i].complete&&!s[i].hasAttribute("height"))return setTimeout(function(){this.layoutContentInNextRegionsWhenReady(e,t,n,o,r+32)}.bind(this),16);var a=e.cssRegionHost.scrollHeight!=e.cssRegionHost.offsetHeight,c=a;if(!c)for(var l=e.firstElementChild,d=e.lastElementChild,u=l;u;){if(u!=l&&/(region|all|always)/i.test(cssCascade.getSpecifiedStyle(u,"break-before",void 0,!0).toCSSString())){c=!0;break}if(u!=d&&/(region|all|always)/i.test(cssCascade.getSpecifiedStyle(u,"break-after",void 0,!0).toCSSString())){u=u.nextElementSibling,c=!0;break}u=u.nextElementSibling}return n=c?this.extractOverflowingContent(e):document.createDocumentFragment(),e.cssRegionHost.regionOverset=n.hasChildNodes()?"overset":"fit",e.cssRegionHost.cssRegionsLastOffsetHeight=e.cssRegionHost.offsetHeight,e.cssRegionHost.cssRegionsLastOffsetWidth=e.cssRegionHost.offsetWidth,r+200>Date.now()?cssRegions.layoutContent(t,n,o,r):o.onprogress(function(){cssRegions.layoutContent(t,n,o)})},layoutContentInLastRegionWhenReady:function(e,t,n,o,r){for(var s=e.getElementsByTagName("img"),i=s.length;i--;)if(!s[i].complete&&!s[i].hasAttribute("height"))return setTimeout(function(){this.layoutContentInLastRegionWhenReady(e,t,n,o,r+32)}.bind(this),32);if("break"==cssCascade.getSpecifiedStyle(e.cssRegionHost,"region-fragment",void 0,!0).toCSSString().trim().toLowerCase()){var a=this.extractOverflowingContent(e).hasChildNodes();
return e.cssRegionHost.cssRegionsLastOffsetHeight=e.cssRegionHost.offsetHeight,e.cssRegionHost.cssRegionsLastOffsetWidth=e.cssRegionHost.offsetWidth,o.ondone(a)}return e.cssRegionHost.cssRegionsLastOffsetHeight=e.cssRegionHost.offsetHeight,e.cssRegionHost.cssRegionsLastOffsetWidth=e.cssRegionHost.offsetWidth,o.ondone(e.cssRegionHost.offsetHeight!=e.cssRegionHost.scrollHeight)},extractOverflowingContent:function(e,t){cssRegionsHelpers.embedTrailingWhiteSpaceNodes(e);var n=e.cssRegionHost.offsetHeight,o=e.cssRegionHost.offsetWidth,r=e.cssRegionHost.getBoundingClientRect();r={top:r.top,bottom:r.bottom,left:r.left,right:r.right};var s=parseInt(getComputedStyle(e.cssRegionHost).paddingBottom);s+=parseInt(getComputedStyle(e.cssRegionHost).borderBottomWidth),r.bottom-=s,n-=s;try{var i=t?document.createRange():document.caretRangeFromPoint(r.left+o-1,r.top+n-1)}catch(a){try{cssConsole.error(a.message),cssConsole.dir(a)}catch(a){}}var c=function(){},l=function(){if(0==d.bottom&&0==d.top&&0==d.left&&0==d.right){var e=-(document.documentElement.scrollTop||document.body.scrollTop),t=-(document.documentElement.scrollLeft||document.body.scrollLeft);d={width:0,heigth:0,top:e,bottom:e,left:t,right:t}}};(!i||e!==i.endContainer&&!Node.contains(e,i.endContainer))&&(i&&i.endContainer===e.cssRegionHost&&i.endOffset==i.endContainer.childNodes.length?(i.setStart(e,e.childNodes.length),i.setEnd(e,e.childNodes.length)):(i=i||document.createRange(),i.setStart(e,0),i.setEnd(e,0),t=!0));do{var d=i.myGetExtensionRect();for(l(),c();(i.endContainer!=e||i.endOffset!=i.endContainer.childNodes.length)&&d.bottom<=r.top+n;){c();var u=i.endContainer.childNodes[i.endOffset],f=!u||Node.getBoundingClientRect(u);u&&f.bottom<=r.top+n?(i.setStartAfter(u),i.setEndAfter(u),d=f,l()):(i.myMoveTowardRight(),d=i.myGetExtensionRect(),l())}for(;(i.endContainer!=e||0!=i.endOffset)&&d.bottom>r.top+n;)c(),i.myMoveOneCharLeft(),d=i.myGetExtensionRect(),l();c();var p=!1;if(!t)for(var g=i.endContainer;g=cssRegionsHelpers.getAllLevelPreviousSibling(g,e);)if(Node.getBoundingClientRect(g).bottom>r.top+n){i.setStart(e,0),i.setEnd(e,0),p=!0,t=!0;break}}while(p);for(var g=i.endContainer;g!==e;)cssBreak.isMonolithic(g)&&i.setEndBefore(g),g=g.parentNode;(!i||e!==i.endContainer&&!Node.contains(e,i.endContainer))&&(cssConsole.dir(i.cloneRange()),i.setStart(e,e.childNodes.length),i.setEnd(e,e.childNodes.length));var m=i.startContainer.childNodes[i.startOffset],g=m;if(cssBreak.hasAnyInlineFlow(i.startContainer))for(;g&&(g=g.previousSibling)&&cssBreak.areInSameSingleLine(g,m);)if(m=g,g instanceof Element)i.setEndBefore(g);else{var h=Node.getClientRects(g);if(h.length>1){var y=h[h.length-2].bottom;for(i.setEnd(g,g.nodeValue.length);d.bottom>y;)i.myMoveOneCharLeft(),d=i.myGetExtensionRect(),l();i.endContainer!==g&&i.setEndBefore(g)}else i.setEndBefore(g)}if((!i||e!==i.endContainer&&!Node.contains(e,i.endContainer))&&(cssConsole.dir(i.cloneRange()),i.setStart(e,e.childNodes.length),i.setEnd(e,e.childNodes.length)),i.endContainer===e&&0===i.endOffset&&i.endOffset!==e.childNodes.length)do{i.myMoveTowardRight();for(var g=i.endContainer;g&&g!==e;)cssBreak.isMonolithic(g)&&(i.setStartAfter(g),i.setEndAfter(g)),g=g.parentNode}while(!cssBreak.isPossibleBreakPoint(i,e)&&(i.endContainer!==e||i.endOffset!==e.childNodes.length));(!i||e!==i.endContainer&&!Node.contains(e,i.endContainer))&&(cssConsole.dir(i.cloneRange()),i.setStart(e,e.childNodes.length),i.setEnd(e,e.childNodes.length));var g=i.endContainer;g.hasChildNodes()&&(g=g.childNodes[i.endOffset-1]);var m=i.endContainer.firstChild;do g.style&&(g!=m&&/(region|all|always)/i.test(cssCascade.getSpecifiedStyle(g,"break-before",void 0,!0).toCSSString())&&(i.setStartBefore(g),i.setEndBefore(g),t=!0),g!==e&&/(region|all|always)/i.test(cssCascade.getSpecifiedStyle(g,"break-after",void 0,!0).toCSSString())&&(i.setStartAfter(g),i.setEndAfter(g),t=!0));while(g=cssRegionsHelpers.getAllLevelPreviousSibling(g,e));var g=i.endContainer,v=[];for(g.nodeType!==g.ELEMENT_NODE&&(g=g.parentNode);g!==e;)v.push(g),g=g.parentNode;if(i.endOffset==i.endContainer.childNodes.length&&i.endContainer!==e){var S=i.endContainer.getBoundingClientRect(),w=S.bottom-(r.top+n),C=getComputedStyle(i.endContainer),b=parseFloat(C.borderBottomWidth),E=parseFloat(C.paddingBottom),R=w;if(w>b){R=b,w-=R;var T=w;T>E?(T=E,w-=T):w=0}else w=0;if("number"==typeof R&&0!==R){var k=parseInt(C.borderBottomLeftRadius)>0||parseInt(C.borderBottomRightRadius)>0;k&&(R=b)}}if(0==i.endOffset&&i.endContainer!==e){var S=i.endContainer.getBoundingClientRect(),N=r.top+n-r.top,C=getComputedStyle(i.endContainer),b=parseFloat(C.borderTopWidth),E=parseFloat(C.paddingTop),w=b+E-N;if(w>0){var O=w;if(w>E){O=E,w-=O;var A=w;A>b?(A=b,w-=A):w=0}else w=0}}for(var x=v.length-1;x>=0;x--)v[x].setAttribute("data-css-continued-fragment",!0),getComputedStyle(v[x]).display.indexOf("block")>=0&&v[x].setAttribute("data-css-continued-block-fragment",!0);"number"==typeof R&&(v[0].removeAttribute("data-css-continued-fragment"),v[0].setAttribute("data-css-special-continued-fragment",!0),v[0].style.borderBottomWidth=b-R+"px"),"number"==typeof T&&(v[0].removeAttribute("data-css-continued-fragment"),v[0].setAttribute("data-css-special-continued-fragment",!0),v[0].style.paddingBottom=E-T+"px"),"number"==typeof A&&(v[0].removeAttribute("data-css-continued-fragment"),v[0].setAttribute("data-css-continued-fragment",!0),v[0].style.borderTopWidth=b-A+"px"),"number"==typeof O&&(v[0].removeAttribute("data-css-continued-fragment"),v[0].setAttribute("data-css-special-continued-fragment",!0),v[0].style.paddingTop=E-O+"px"),i.setEnd(e,e.childNodes.length);for(var L=i.extractContents(),F=L.querySelectorAll("[data-css-continued-fragment]"),x=F.length;x--;)F[x].removeAttribute("data-css-continued-fragment"),F[x].setAttribute("data-css-starting-fragment",!0);var I=L.querySelector("[data-css-special-continued-fragment]");if(I)I.removeAttribute("data-css-special-continued-fragment"),I.setAttribute("data-css-starting-fragment",!0),"number"==typeof R&&(I.style.borderBottomWidth=R+"px"),I.style.paddingBottom="number"==typeof T?T:"0px","number"==typeof A&&(I.removeAttribute("data-css-starting-fragment"),I.setAttribute("data-css-special-starting-fragment",!0),I.style.borderTopWidth=A+"px"),"number"==typeof O&&(I.removeAttribute("data-css-starting-fragment"),I.setAttribute("data-css-special-starting-fragment",!0),I.style.paddingTop=O+"px",I.style.paddingBottom="0px",I.style.borderBottomWidth="0px");else if("number"==typeof R)try{throw Error()}catch(a){setImmediate(function(){throw a})}else if("number"==typeof O)try{throw Error()}catch(a){setImmediate(function(){throw a})}return cssRegionsHelpers.unembedTrailingWhiteSpaceNodes(e),cssRegionsHelpers.unembedTrailingWhiteSpaceNodes(L),L},enablePolyfill:function(){var e=document.createElement("style");e.setAttribute("data-css-no-polyfill",!0),e.textContent="cssregion,[data-css-region]>*,[data-css-regions-fragment-source]:not([data-css-regions-cloning]),[data-css-regions-fragment-source][data-css-regions-cloned]{display:none !important}[data-css-region]>cssregion:last-of-type{display:inline !important}[data-css-region]{content:normal !important}[data-css-special-continued-fragment]{counter-reset:none !important;counter-increment:none !important;margin-bottom:0 !important;border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}[data-css-continued-fragment]{counter-reset:none !important;counter-increment:none !important;margin-bottom:0 !important;padding-bottom:0 !important;border-bottom:none !important;border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}[data-css-continued-fragment]::after{content:none !important;display:none !important}[data-css-special-starting-fragment]{text-indent:0 !important;margin-top:0 !important}[data-css-starting-fragment]{text-indent:0 !important;margin-top:0 !important;padding-top:0 !important;border-top:none !important;border-top-left-radius:0 !important;border-top-right-radius:0 !important}[data-css-starting-fragment]::before{content:none !important;display:none !important}[data-css-continued-block-fragment][data-css-continued-fragment]::after{content:'' !important;display:inline-block !important;width:100% !important;height:0px !important;}";var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e),cssCascade.startMonitoringProperties(["flow-into","flow-from","region-fragment"],{onupdate:function(e,t){if(!e.getAttributeNode("data-css-regions-fragment-of")){cssConsole.dir({message:"onupdate",element:e,selector:t.selector.toCSSString(),rule:t});var n=cssCascade.getSpecifiedStyle(e,"flow-into").filter(function(e){return e instanceof cssSyntax.IdentifierToken}),o=n[0]?n[0].toCSSString().toLowerCase():"";("none"==o||"initial"==o||"inherit"==o||"default"==o)&&(o="");var r=n[1]?n[1].toCSSString().toLowerCase():"";"content"!=r&&(r="element");var n=o?o+" "+r:"",s=cssCascade.getSpecifiedStyle(e,"flow-from").filter(function(e){return e instanceof cssSyntax.IdentifierToken}),i=s[0]?s[0].toCSSString().toLowerCase():"";("none"==i||"initial"==i||"inherit"==i||"default"==i)&&(i="");var s=i;if(e.cssRegionsLastFlowInto!=n||e.cssRegionsLastFlowFrom!=s){var a=e.regionOverset,c=cssRegions.flows[e.cssRegionsLastFlowFromName],l=cssRegions.flows[e.cssRegionsLastFlowIntoName];if(c&&c.removeFromRegions(e),l&&l.removeFromContent(e),c&&"empty"!=a&&c.relayout(),l&&l.relayout(),e.cssRegionsLastFlowInto=n,e.cssRegionsLastFlowFrom=s,e.cssRegionsLastFlowIntoName=o,e.cssRegionsLastFlowFromName=i,e.cssRegionsLastFlowIntoType=r,i){var c=cssRegions.flows[i]=cssRegions.flows[i]||new cssRegions.Flow(i);c&&c.addToRegions(e),c&&c.relayout()}if(o){var l=cssRegions.flows[o]=cssRegions.flows[o]||new cssRegions.Flow(o);l&&l.addToContent(e),l&&l.relayout()}}}}}),cssCascade.startMonitoringProperties(["break-before","break-after"],{onupdate:function(e){if(!e.getAttribute("data-css-regions-fragment-of"))for(;e;){if(e.cssRegionsLastFlowIntoName)return cssRegions.flows[e.cssRegionsLastFlowIntoName].relayout(),void 0;e=e.parentNode}}}),cssRegions.enablePolyfillObjectModel(),window.addEventListener("load",function(){for(var e=document.getNamedFlows(),t=0;e.length>t;t++)e[t].relayout()});var n=0,o=function(){o.timeout=0;for(var e=document.getNamedFlows(),t=0;e.length>t;t++)e[t].lastRelayout>n||(e[t].relayoutInProgress?e[t].relayout():e[t].relayoutIfSizeChanged())},r=function(){for(var e=document.getNamedFlows(),t=0;e.length>t;t++)if(!(e[t].lastRelayout>n)&&e[t].relayoutInProgress)return!0;return!1},s=function(){for(var e=document.getNamedFlows(),t=0;e.length>t;t++)e[t].lastRelayout>n||e[t].relayoutInProgress&&e[t].relayout()};window.addEventListener("resize",function(){n=+new Date,o.timeout||(r()?(setTimeout(s,16),o.timeout=setTimeout(o,500)):o.timeout=setTimeout(o,200))})},flows:Object.create?Object.create(null):{}};cssRegions.Flow=function(e){this.name=e,Object.defineProperty(this,"name",{get:function(){return e}}),this.overset=!1,this.firstEmptyRegionIndex=-1,this.content=[],this.lastContent=[],this.regions=[],this.lastRegions=[],this.eventListeners={regionfragmentchange:[],regionoversetchange:[]};var t=this;t.update=function(e){e.schedule(t.update),t.relayout()},t.lastStylesheetAdded=0,cssCascade.addEventListener("stylesheetadded",function(){t.lastStylesheetAdded-Date()>100?(t.lastStylesheetAdded=+Date(),t.relayout()):cssConsole.warn("Please don't add stylesheets as a response to region events. Operation cancelled.")}),t.failedLayoutCount=0,t.lastEventRAF=0,t.restartLayout=!1},cssRegions.Flow.prototype.removeFromContent=function(e){this.removeEventListenersOf(e);var t=this.content.indexOf(e);t>=0&&this.content.splice(t,1)},cssRegions.Flow.prototype.removeFromRegions=function(e){this.removeEventListenersOf(e);var t=this.regions.indexOf(e);t>=0&&this.regions.splice(t,1)},cssRegions.Flow.prototype.addToContent=function(e){var t=this.content,n=document.createTreeWalker(document.documentElement,NodeFilter.SHOW_ELEMENT,function(e){return t.indexOf(e)>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);n.currentNode=e,n.nextNode()?t.splice(t.indexOf(n.currentNode),0,e):t.push(e)},cssRegions.Flow.prototype.addToRegions=function(e){var t=this.regions,n=document.createTreeWalker(document.documentElement,NodeFilter.SHOW_ELEMENT,function(e){return t.indexOf(e)>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);n.currentNode=e,n.nextNode()?t.splice(this.regions.indexOf(n.currentNode),0,e):t.push(e)},cssRegions.Flow.prototype.generateContentFragment=function(){for(var e=document.createDocumentFragment(),t=0;this.content.length>t;t++){var n=this.content[t];if(cssRegionsHelpers.markNodesAsFragmentSource([n],"content"==n.cssRegionsLastFlowIntoType),"element"==n.cssRegionsLastFlowIntoType){var o=n,r=o.cloneNode(!0),s=r;"LI"==s.tagName&&(s=document.createElement(o.parentNode.tagName),s.style.margin="0",s.style.padding="0",s.appendChild(r)),e.appendChild(s),cssRegionsHelpers.copyStyle(o,r)}else for(var o=n.firstChild;o;){var r=o.cloneNode(!0),s=r;"LI"==s.tagName&&(s=document.createElement(o.parentNode.tagName),s.style.margin="0",s.style.padding="0",s.appendChild(r)),e.appendChild(s),cssRegionsHelpers.copyStyle(o,r),o=o.nextSibling}}return cssRegionsHelpers.hideTextNodesFromFragmentSource(this.content),cssRegionsHelpers.transformFragmentSourceToFragments(Array.prototype.slice.call(e.childNodes,0)),e},cssRegions.Flow.prototype.relayout=function(){var e=this;if(cancelAnimationFrame(e.lastEventRAF),!e.relayoutScheduled){if(e.relayoutInProgress)return e.restartLayout=!0,void 0;e.relayoutScheduled=!0,requestAnimationFrame(function(){e._relayout()})}},cssRegions.Flow.prototype._relayout=function(e){var t=this;try{cssConsole.log("starting a new relayout for "+t.name),t.relayoutInProgress=!0,t.relayoutScheduled=!1,t.lastRelayout=+new Date;var n=e&&e.docElmScrollTop?e.docElmScrollTop:document.documentElement.scrollTop,o=e&&e.docBdyScrollTop?e.docBdyScrollTop:document.body.scrollTop;t.removeEventListenersOf(t.lastRegions),t.removeEventListenersOf(t.lastContent),cancelAnimationFrame(t.lastEventRAF),t.regions=t.regions.filter(function(e){return document.documentElement.contains(e)}),t.content=t.content.filter(function(e){return document.documentElement.contains(e)}),cssRegionsHelpers.unmarkNodesAsRegion(t.lastRegions),t.lastRegions=t.regions.slice(0),cssRegionsHelpers.unmarkNodesAsFragmentSource(t.lastContent),t.lastContent=t.content.slice(0),cssRegionsHelpers.markNodesAsRegion(t.regions);var r=t.regions.slice(0).reverse(),s=t.generateContentFragment();cssRegions.layoutContent(r,s,{onprogress:function(e){document.documentElement.scrollTop=n,document.body.scrollTop=o,t.restartLayout?(t.relayoutInProgress=!1,t.failedLayoutCount=0,t.restartLayout=!1,t._relayout({docElmScrollTop:n,docBdyScrollTop:o})):setImmediate(e)},ondone:function(e){for(t.overset=e,t.firstEmptyRegionIndex=t.regions.length-1;t.regions[t.firstEmptyRegionIndex];){var r=!1;if(r=r||!t.regions[t.firstEmptyRegionIndex].cssRegionsWrapper,r=r||!t.regions[t.firstEmptyRegionIndex].cssRegionsWrapper.firstChild,!r){++t.firstEmptyRegionIndex==t.regions.length&&(t.firstEmptyRegionIndex=-1);break}t.firstEmptyRegionIndex--}if(window.MutationObserver?(t.addEventListenersTo(t.content),t.addEventListenersTo(t.regions)):setImmediate(function(){t.addEventListenersTo(t.content)}),t.regions.length>0&&!t.restartLayout){var s=!1;s=s||t.regions.some(function(e){return!document.documentElement.contains(e)}),s=s||t.content.some(function(e){return!document.documentElement.contains(e)}),s?(cssConsole.warn("Buggy css regions layout: the page changed; we need to restart."),t.restartLayout=!0):t.lastEventRAF=requestAnimationFrame(function(){t.dispatchEvent("regionfragmentchange"),t.dispatchEvent("regionoversetchange")})}document.documentElement.scrollTop=n,document.body.scrollTop=o,t.relayoutInProgress=!1,t.failedLayoutCount=0,t.restartLayout&&(t.restartLayout=!1,t.relayout())}})}catch(i){setImmediate(function(){throw i}),t.failedLayoutCount++,7>t.failedLayoutCount?requestAnimationFrame(function(){t._relayout()}):(t.failedLayoutCount=0,t.relayoutScheduled=!1,t.relayoutInProgress=!1,t.restartLayout=!1)}},cssRegions.Flow.prototype.relayoutIfSizeChanged=function(){for(var e=this.regions,t=e.length;t--;)if(e[t].offsetHeight!==e[t].cssRegionsLastOffsetHeight||e[t].offsetWidth!==e[t].cssRegionsLastOffsetWidth)return this.relayout(),void 0},cssRegions.Flow.prototype.addEventListenersTo=function(e){var t=this;e instanceof Element&&(e=[e]),e.forEach(function(e){e.cssRegionsEventStream||(e.cssRegionsEventStream=new myDOMUpdateEventStream({target:e}),e.cssRegionsEventStream.schedule(t.update))})},cssRegions.Flow.prototype.removeEventListenersOf=function(e){e instanceof Element&&(e=[e]),e.forEach(function(e){e.cssRegionsEventStream&&(e.cssRegionsEventStream.dispose(),delete e.cssRegionsEventStream)})},cssRegions.NamedFlow=cssRegions.Flow,cssRegions.NamedFlow.prototype.getContent=function(){return this.content.slice(0)},cssRegions.NamedFlow.prototype.getRegions=function(){return this.regions.slice(0)},cssRegions.NamedFlow.prototype.getRegionsByContent=function(e){for(var t=[],n=document.querySelectorAll('[data-css-regions-fragment-of="'+e.getAttribute("data-css-regions-fragment-source")+'"]'),o=0;n.length>o;o++){var r=n[o];do if(r.getAttribute("data-css-region")){t.push(r);break}while(r=r.parentNode)}return t},basicObjectModel.EventTarget.implementsIn(cssRegions.Flow),cssRegions.NamedFlowCollection=function(){this.length=0},cssRegions.NamedFlowCollection.prototype.namedItem=function(e){return cssRegions.flows[e]||(cssRegions.flows[e]=new cssRegions.Flow(e))},cssRegions.enablePolyfillObjectModel=function(){document.getNamedFlows=function(){var e=new cssRegions.NamedFlowCollection,t=cssRegions.flows;for(var n in cssRegions.flows)Object.prototype.hasOwnProperty.call(t,n)&&(0!=t[n].content.length||0!=t[n].regions.length)&&(e[e.length++]=e[n]=t[n]);return e},document.getNamedFlow=function(e){var t=cssRegions.flows;return t[e]||(t[e]=new cssRegions.NamedFlow(e))},Object.defineProperties(Element.prototype,{regionOverset:{get:function(){return this._regionOverset||"fit"},set:function(e){this._regionOverset=e}},getRegionFlowRanges:{value:function(){return null}},getComputedRegionStyle:{value:function(e,t){var n=document.querySelector('[data-css-regions-fragment-of="'+e.getAttribute("data-css-regions-fragment-source")+'"]');return t?getComputedStyle(n||e,t):getComputedStyle(n||e)}}}),cssCascade.polyfillStyleInterface("flow-into"),cssCascade.polyfillStyleInterface("flow-from"),cssCascade.polyfillStyleInterface("region-fragment"),cssCascade.polyfillStyleInterface("break-before"),cssCascade.polyfillStyleInterface("break-after")},"cssRegionsManualTrigger"in window||cssRegions.enablePolyfill();